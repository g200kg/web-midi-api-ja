<!DOCTYPE html>
<html lang="en" dir="ltr" typeof="bibo:Document " about="" property="dcterms:language" content="en">
<head>
    <title>Web MIDI API (日本語訳)</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">

    <style type="text/css" media="all">
      table {border-collapse: collapse; border: 1px solid #000; font: normal 80%/140% arial, helvetica, sans-serif; color: #555; background: #fff;}
      td, th {border: 1px dotted #bbb; padding:.5em 1em; font-size: x-small; width: 10em; }
      caption {padding: 0 0 .5em 0; text-align: left; font-size: 100%; font-weight: 500; text-align: center; color: #666; background: transparent;}
      table a {padding: 1px; text-decoration: none; font-weight: bold; background: transparent;}
      table a:link {border-bottom: 1px dashed #ddd; color: #000;}
      table a:visited {border-bottom: 1px dashed #ccc; text-decoration: line-through; color: #808080;}
      table a:hover {border-bottom: 1px dashed #bbb; color: #666;}
      thead th, tfoot th {white-space: nowrap; border: 1px solid #000; text-align: center; color: black; background: #ddd;}
      tfoot td {border: 2px solid #000;}
      tbody th {color: #060606; }
      tbody th, tbody td {vertical-align: middle; text-align: center; }
    </style>
    <!-- 
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
    
        
  <style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
body {
  line-height:120%;
}
.annotate {
  color:red;
}

em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #ff4500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}
</style><style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title { color: #2b2; }
div.issue-title span, div.note-title span {
    text-transform: uppercase;
}
div.note, div.issue {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .issue > p:first-child { margin-top: 0 }
.issue, .note {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.issue { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note {
    border-color: #52e052;
    background: #e9fbe9;
}


</style><style>/* --- WEB IDL --- */
pre.idl {
    border-top: 1px solid #90b8de;
    border-bottom: 1px solid #90b8de;
    padding:    1em;
    line-height:    120%;
}

pre.idl::before {
    content:    "WebIDL";
    display:    block;
    width:      150px;
    background: #90b8de;
    color:  #fff;
    font-family:    initial;
    padding:    3px;
    font-weight:    bold;
    margin: -1em 0 1em -1em;
}

.idlType {
    color:  #ff4500;
    font-weight:    bold;
    text-decoration:    none;
}

/*.idlModule*/
/*.idlModuleID*/
/*.idlInterface*/
.idlInterfaceID, .idlDictionaryID, .idlCallbackID, .idlEnumID {
    font-weight:    bold;
    color:  #005a9c;
}
a.idlEnumItem {
    color:  #000;
    border-bottom:  1px dotted #ccc;
    text-decoration: none;
}

.idlSuperclass {
    font-style: italic;
    color:  #005a9c;
}

/*.idlAttribute*/
.idlAttrType, .idlFieldType, .idlMemberType {
    color:  #005a9c;
}
.idlAttrName, .idlFieldName, .idlMemberName {
    color:  #ff4500;
}
.idlAttrName a, .idlFieldName a, .idlMemberName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlMethod*/
.idlMethType, .idlCallbackType {
    color:  #005a9c;
}
.idlMethName {
    color:  #ff4500;
}
.idlMethName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlCtor*/
.idlCtorName {
    color:  #ff4500;
}
.idlCtorName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlParam*/
.idlParamType {
    color:  #005a9c;
}
.idlParamName, .idlDefaultValue {
    font-style: italic;
}

.extAttr {
    color:  #666;
}

/*.idlSectionComment*/
.idlSectionComment {
    color: gray;
}

/*.idlConst*/
.idlConstType {
    color:  #005a9c;
}
.idlConstName {
    color:  #ff4500;
}
.idlConstName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlException*/
.idlExceptionID {
    font-weight:    bold;
    color:  #c00;
}

.idlTypedefID, .idlTypedefType {
    color:  #005a9c;
}

.idlRaises, .idlRaises a.idlType, .idlRaises a.idlType code, .excName a, .excName a code {
    color:  #c00;
    font-weight:    normal;
}

.excName a {
    font-family:    monospace;
}

.idlRaises a.idlType, .excName a.idlType {
    border-bottom:  1px dotted #c00;
}

.excGetSetTrue, .excGetSetFalse, .prmNullTrue, .prmNullFalse, .prmOptTrue, .prmOptFalse {
    width:  45px;
    text-align: center;
}
.excGetSetTrue, .prmNullTrue, .prmOptTrue { color:  #0c0; }
.excGetSetFalse, .prmNullFalse, .prmOptFalse { color:  #c00; }

.idlImplements a {
    font-weight:    bold;
}

dl.attributes, dl.methods, dl.constants, dl.constructors, dl.fields, dl.dictionary-members {
    margin-left:    2em;
}

.attributes dt, .methods dt, .constants dt, .constructors dt, .fields dt, .dictionary-members dt {
    font-weight:    normal;
}

.attributes dt code, .methods dt code, .constants dt code, .constructors dt code, .fields dt code, .dictionary-members dt code {
    font-weight:    bold;
    color:  #000;
    font-family:    monospace;
}

.attributes dt code, .fields dt code, .dictionary-members dt code {
    background:  #ffffd2;
}

.attributes dt .idlAttrType code, .fields dt .idlFieldType code, .dictionary-members dt .idlMemberType code {
    color:  #005a9c;
    background:  transparent;
    font-family:    inherit;
    font-weight:    normal;
    font-style: italic;
}

.methods dt code {
    background:  #d9e6f8;
}

.constants dt code {
    background:  #ddffd2;
}

.constructors dt code {
    background:  #cfc;
}

.attributes dd, .methods dd, .constants dd, .constructors dd, .fields dd, .dictionary-members dd {
    margin-bottom:  1em;
}

table.parameters, table.exceptions {
    border-spacing: 0;
    border-collapse:    collapse;
    margin: 0.5em 0;
    width:  100%;
}
table.parameters { border-bottom:  1px solid #90b8de; }
table.exceptions { border-bottom:  1px solid #deb890; }

.parameters th, .exceptions th {
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
    font-family:    initial;
    font-weight:    normal;
    text-shadow:    #666 1px 1px 0;
}
.parameters th { background: #90b8de; }
.exceptions th { background: #deb890; }

.parameters td, .exceptions td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
    vertical-align: top;
}

.parameters tr:first-child td, .exceptions tr:first-child td {
    border-top: none;
}

.parameters td.prmName, .exceptions td.excName, .exceptions td.excCodeName {
    width:  100px;
}

.parameters td.prmType {
    width:  120px;
}

table.exceptions table {
    border-spacing: 0;
    border-collapse:    collapse;
    width:  100%;
}
</style><link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/W3C-WD"><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]-->

<script type="text/javascript">
function OpenOriginal(x) {
  var url="http://www.w3.org/TR/webmidi/#"+x;
  window.open(url, "wmapioriginal", "width=1000, height=600, toolbar=1,location=1,resizable=1,scrollbars=1,status=1");
}
</script>

</head>
  <body class="h-entry" style="" role="document" id="respecDocument"><div class="head" role="contentinfo" id="respecHeader">
<h1>Web MIDI API (日本語訳)</h1>
<div style="background-color: #ddf; border: 1px solid #668; padding:10px 20px">
  <p>この文書は、W3Cの文書 "「Web MIDI API」 W3C Working Draft 26 November 2013" の日本語訳です。
  </p>
  <p>Web MIDI APIの正式な文書は英語版のみであり、日本語訳には翻訳に起因する誤りが含まれている場合があります。<br/>
    正式な文書は<a href="http://www.w3.org/TR/webmidi/">http://www.w3.org/TR/webmidi/</a>にあります。<br/>
  </p>
  <p>翻訳元の文書はまだワーキング・ドラフト(Working Draft)です。現状ではまだ説明が不足している部分があったり、今後も頻繁に更新される可能性がある事に注意してください。
  </p>
  <p><b class="annotate">注:</b> 現在ネイティブのWeb MIDI APIの実装が進んでいるのはChromeだけであり、それ以外の環境で動作させるには Polyfill(<a href="http://cwilso.github.io/WebMIDIAPIShim/">WebMIDIAPIShim</a>)と<a href="http://jazz-soft.net/doc/Jazz-Plugin/">JazzPlugin</a>が必要になります。また、これらの環境では今のところ、MIDIAccessオブジェクトのinputs/outputsの扱いがこの文書の仕様とは少し異なっています (参考:<a href="http://www.g200kg.com/archives/2013/12/web-midi-api-2.html">Web MIDI API に関する補足</a>)。
  </p>
  <p>
    日本語訳GitHub : <b><a href="https://github.com/g200kg/web-midi-api-ja">https://github.com/g200kg/web-midi-api-ja</a></b><br/>
    日本語訳公開URL : <b><a href="http://g200kg.github.io/web-midi-api-ja/">http://g200kg.github.io/web-midi-api-ja/</a></b>
  </p>
  <img src="images/midiappy_small.png" alt="" style="float:left;margin:0px 10px"/>
  <p>Tatsuya Shinyagaito @ g200kg<br/>
    誤りその他があればGitHubページ、下のサイト経由などで連絡をお願いいたします。<br/>
    <b><a href="http://www.g200kg.com/">http://www.g200kg.com/</a></b><br/>
  </p>
  <p>2013年12月01日</p>
</div>
<hr/>
  <p>
    
      <a href="http://www.w3.org/"><img width="72" height="48" src="https://www.w3.org/Icons/w3c_home" alt="W3C"/></a>
    
  </p>
  <h1 class="title p-name" id="title" property="dcterms:title">Web MIDI API</h1>
  
  <h2 property="dcterms:issued" datatype="xsd:dateTime" content="2013-11-20T23:04:17.000Z" id="w3c-working-draft-26-november-2013"><abbr title="World Wide Web Consortium">W3C</abbr> Working Draft <time class="dt-published" datetime="2013-11-26">26 November 2013</time></h2>
  <dl>
    
      <dt>このバージョン：</dt>
      <dd><a class="u-url" href="http://www.w3.org/TR/2013/WD-webmidi-20131126/">http://www.w3.org/TR/2013/WD-webmidi-20131126/</a></dd>
      <dt>最新の公開バージョン：</dt>
      <dd><a href="http://www.w3.org/TR/webmidi/">http://www.w3.org/TR/webmidi/</a></dd>
      <dt>前のバージョン：</dt>
      <dd><a href="http://www.w3.org/TR/2012/WD-webmidi-20121213/">http://www.w3.org/TR/2012/WD-webmidi-20121213/</a></dd>
    
      <dt>最新のエディターズドラフト：</dt>
      <dd><a href="http://webaudio.github.io/web-audio-api/">http://webaudio.github.io/web-midi-api/</a><span class="annotate">(訳注：リンク先修正)</span></dd>
    
    
    <dt>編集者：</dt>
    <dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Jussi Kalliokoski" href="http://juss.in">Jussi Kalliokoski</a></span>
</dd>
<dd class="p-author h-card vcard" rel="bibo:editor" inlist=""><span typeof="foaf:Person"><a class="u-url url p-name fn" rel="foaf:homepage" property="foaf:name" content="Chris Wilson" href="mailto:cwilso@google.com">Chris Wilson</a>, <a rel="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://google.com">Google</a></span>
</dd>

          <dt>バージョニングリポジトリ：</dt>
                <dd>
                  <a href="https://github.com/WebAudio/web-midi-api/">https://github.com/WebAudio/web-midi-api/</a>
                </dd>

          <dt>イシュートラッカー：</dt>
                <dd>
                  <a href="https://github.com/WebAudio/web-midi-api/issues?state=open">https://github.com/WebAudio/web-midi-api/issues?state=open</a>
                </dd>

          <dt>テストスイート：</dt>
            <dd><a href="https://github.com/jussi-kalliokoski/web-midi-test-suite">https://github.com/jussi-kalliokoski/web-midi-test-suite</a> (unofficial)</dd>
              
          <dt>ワーキング・グループ：</dt>
            <dd><a href="http://www.w3.org/2011/audio/">Audio Working Group</a></dd>

          <dt>コメント：</dt>
            <dd><a href="mailto:public-audio@w3.org">public-audio@w3.org</a> (<a href="http://lists.w3.org/Archives/Public/public-audio/">archives</a>)</dd>
      

          
        
      
    
  </dl>
  
  
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
        2012-2013
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), 
        
        All Rights Reserved.
        
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        
          <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a>
        
        rules apply.
      </p>
    
  
  <hr>
</div>
    <section id="abstract" class="introductory" property="dcterms:abstract" datatype="" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter"><h2 aria-level="1" role="heading" id="h2_abstract">概要 <button onclick="OpenOriginal('abstract')">原文</button></h2>
      <p>
        シンセサイザー、キーボード等のコントローラー、ドラムマシンなど、ユーザーエージェントはそのホストコンピュータやデバイスに接続された音楽機器を持っている場合があります。
        広く採用されている、Musical Instrument Digital Interface (MIDI) プロトコルは電子楽器、コントローラー、コンピューター間の通信と同期を可能にするものです。
        MIDIはオーディオ信号は送信しません。その代わりに音符に関するイベントメッセージ、音量やビブラートやパンニングなどのパラメータのコントローラー信号、キューやテンポを合わせるためのクロック、あるいはそのシステム固有の (例えばリモートに保存されているシンセサイザー固有のパッチデータなど) の通信を行います。このプロトコルは照明装置や特殊効果の制御を行うショーコントロールのような、音楽以外での分野でも標準となっています。
        <!--Some user agents have music devices, such as synthesizers, 
        keyboard and other controllers, and drum machines connected to their host computer or device.  The widely adopted 
        Musical Instrument Digital Interface (MIDI) protocol enables 
        electronic musical instruments, controllers and computers to 
        communicate and synchronize with each other. MIDI does not transmit 
        audio signals: instead, it sends event messages about musical notes, 
        controller signals for parameters such as volume, vibrato and panning, 
        cues and clock signals to set the tempo, and system-specific MIDI 
        communications (e.g. to remotely store synthesizer-specific patch 
        data).  This same protocol has become a standard for non-musical uses, 
        such as show control, lighting and special effects control.-->
      </p>
      <p>
        この仕様はMIDIプロトコルをサポートするAPIを定義し、Webアプリケーションがクライアントシステム上のMIDI入出力デバイスを列挙、選択し、MIDIメッセージを送信および受信する事を可能にします。
        ユーザーのシステム上にあるMIDIデバイスへの低レベルアクセスが可能になる事によって、音楽に関するものだけでなく、非音楽関係のMIDIアプリケーションも構築できるようになります。
        一方でWeb MIDI APIは、音楽やコントローラーの入力の意味を表現するものではありません。
        これはMIDI入力と出力インターフェースのメカニズムに触れる事ができ、MIDIメッセージをその内容の意味を認識する事なく、送信および受信するという実用的な側面のために設計されています (例えば、"20Hzでビブラートを掛ける"や"G#7の和音を演奏する"と言うような、コントローラーの値が変わった事やG#7の和音を演奏した時の一組のノートオン・メッセージという以上の意味を持ちません)。
         <!--This specification defines an API supporting the MIDI protocol, enabling web applications to enumerate and select MIDI input and output devices on the client system and send and receive MIDI messages. It is intended to enable non-music MIDI applications as well as music ones, by providing low-level access to the MIDI devices available on the users' systems.  The Web MIDI API is not intended to describe music or controller inputs semantically; it is designed to expose the mechanics of MIDI input and output interfaces, and the practical aspects of sending and receiving MIDI messages, without identifying what those actions might mean semantically (e.g., in terms of "modulate the vibrato by 20Hz" or "play a G#7 chord", other than in terms of changing a controller value or sending a set of note-on messages that happen to represent a G#7 chord).-->
      </p>
      <p>
        ユーザーの一部では、"MIDI"は、スタンダードMIDIファイルおよびジェネラルMIDIと同義語として使われています。
        それはこのAPIの意図する所ではありません。 単純に.SMFファイルを再生する、という使用例はこの仕様の範囲ではありません (それは例えばHTML5の <code>&lt;audio&gt;</code>要素のような異なったフォーマットのものとしては考慮されるかも知れません)。
        Web MIDI APIは MIDIに対応するデバイス、例えば外部のシンセサイザーや照明システム、あるいは多くのオペレーティングシステムに組み込まれているソフトウェアシンセサイザーへの直接的なアクセスを可能にする事を意図しています。
        Web MIDI APIはまた明らかに、MIDIコントローラーからの入力に反応するという新種のWeb上のアプリケーションを可能にするために設計されています。
        Webアプリケーションを制御するために、(キーボード、ギター、管楽器コントローラーなどの楽器コントローラーとー同様に)物理的なボタンやツマミやスライダーなどを使った、外部ハードウェアコントローラーが使用される事になるでしょう。
        <!--To some users, "MIDI" has become synonymous with Standard MIDI Files and General MIDI.  That is not the intent of this API; the use case of simply playing back a .SMF file is not within the purview of this specification (it could be considered a different format to be supported by the HTML5 <code>&lt;audio&gt;</code> element, for example).  The Web MIDI API is intended to enable direct access to devices that respond to MIDI - external synthesizers or lighting systems, for example, or even the software synthesizers that are built in to many common operating systems.  The Web MIDI API is also explicitly designed to enable a new class of applications on the web that can respond to MIDI controller inputs - using external hardware controllers with physical buttons, knobs and sliders (as well as musical controllers like keyboard, guitar or wind instrument controllers) to control web applications.-->
      </p>
      <p>
        Web MIDI APIはまた、Webプラットフォームの他のAPIや要素、特にWeb Audio APIと組み合わせて使われる事を想定しています。
        また、このAPIはApple社のCoreMIDIやMicrosoft社のWindows MIDI APIなど、他のシステムのMIDI APIに精通しているユーザーに向けたものです。
        <!--The Web MIDI API is also expected to be used in conjunction with other APIs and elements of the web platform, notably the Web Audio API.  This API is also intended to be familiar to users of MIDI APIs on other systems, such as Apple's CoreMIDI and Microsoft's Windows MIDI API.-->
      </p>
    </section>

<section id="sotd" class="introductory" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter"><h2 aria-level="1" role="heading" id="h2_sotd">この文書の位置づけ <button onclick="OpenOriginal('sotd')">原文</button></h2>    
        <p>
          <em>このセクションは、この文書の公開時における状況を記述したものです。
          他の文書がこの文書に取って代わるかもしれません。 
          現在の<abbr title="World Wide Web Consortium">W3C</abbr>の刊行物およびこの技術レポートの最新版のリストは、http://www.w3.org/TR/にある、<a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports
          index</a>から見つけることができます。</em>
          <!--<em>This section describes the status of this document at the time of its publication.
          Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the
          latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
          http://www.w3.org/TR/.</em>-->
        </p>
        
        <p>
          この文書は<a href="http://www.w3.org/2011/audio/">Audio Working Group</a>によって、ワーキング・ドラフトとして公開されました。
          この文書にコメントしたい場合は以下で受け付けます。
          <a href="mailto:public-audio@w3.org">public-audio@w3.org</a> 
          (<a href="mailto:public-audio-request@w3.org?subject=subscribe">subscribe</a>、
          <a href="http://lists.w3.org/Archives/Public/public-audio/">archives</a>)。
          どんなコメントでも歓迎します。
          <!--This document was published by the <a href="http://www.w3.org/2011/audio/">Audio Working Group</a> as an Working Draft.
          
            If you wish to make comments regarding this document, please send them to 
            <a href="mailto:public-audio@w3.org">public-audio@w3.org</a> 
            (<a href="mailto:public-audio-request@w3.org?subject=subscribe">subscribe</a>,
            <a href="http://lists.w3.org/Archives/Public/public-audio/">archives</a>).

            All comments are welcome.          -->
        </p>
        
        <p>
          ワーキング・ドラフトとしての公開は<abbr title="World Wide Web Consortium">W3C</abbr>メンバーによる承認を意味するものではありません。
          これは草案文書であり、いつでも他の文書によって改訂、置き換えあるいは廃止される可能性があります。 
          この文書を作業中のもの以外として引用する事は不適切です。
          <!--Publication as a Working Draft does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership. This is a draft document and may be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite this document as other than work in progress.-->
        </p>  
        
        
        <p>
          この文書は<a id="sotd_patent" about="" rel="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>の基に運用されるグループによって作成されました。 <abbr title="World Wide Web Consortium">W3C</abbr>はグループの成果物から作成された<a href="http://www.w3.org/2004/01/pp-impl/46884/status" rel="disclosure">特許開示リスト</a>を維持しています。 また、このページは特許開示の手順についても提示しています。 特許について実際の知識を持ち、それが<a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">基本的な請求事項</a>を含むを含むと考える者は、 <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure"><abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy 6節</a>に従って情報を開示しなくてはなりません。

            <!--This document was produced by a group operating under the 
            <a id="sotd_patent" about="" rel="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent
            Policy</a>.

              <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/46884/status" rel="disclosure">public list of any patent
              disclosures</a> 
            
            made in connection with the deliverables of the group; that page also includes
            instructions for disclosing a patent. An individual who has actual knowledge of a patent
            which the individual believes contains
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
            Claim(s)</a> must disclose the information in accordance with
            <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.          -->
        </p>
        
      
    
  
</section>

<section id="toc">
  <h2 class="introductory" aria-level="1" role="heading" id="h2_toc">目次 <button onclick="OpenOriginal('toc')">原文</button></h2>
  <ul class="toc" role="directory" id="respecContents">
    <li class="tocline">
      <a href="#introduction" class="tocxref"><span class="secno">1. </span>序文</a>
    </li>
    <li class="tocline">
      <a href="#conformance" class="tocxref"><span class="secno">2. </span>準拠</a>
    </li>
    <li class="tocline">
      <a href="#terminology" class="tocxref"><span class="secno">3. </span>用語</a>
    </li>
    <li class="tocline">
      <a href="#obtaining-access-to-midi-devices" class="tocxref"><span class="secno">4. </span>MIDIデバイスへのアクセスの取得</a>
      <ul class="toc">
        <li class="tocline">
          <a href="#requestmidiaccess" class="tocxref"><span class="secno">4.1 </span>requestMIDIAccess()</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#methods" class="tocxref"><span class="secno">4.1.1 </span>メソッド</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a href="#midioptions-dictionary" class="tocxref"><span class="secno">4.2 </span><span class="formerLink"><code>MIDIOptions</code></span> ディクショナリ</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#dictionary-midioptions-members" class="tocxref"><span class="secno">4.2.1 </span>ディクショナリ <span class="formerLink"><code>MIDIOptions</code></span> メンバー</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a href="#midiinputmap-interface" class="tocxref"><span class="secno">4.3 </span><span>MIDIInputMap</span> インターフェース</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#attributes" class="tocxref"><span class="secno">4.3.1 </span>属性</a>
            </li>
            <li class="tocline">
              <a href="#methods-1" class="tocxref"><span class="secno">4.3.2 </span>メソッド</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a href="#midioutputmap-interface" class="tocxref"><span class="secno">4.4 </span><span>MIDIOutputMap</span> インターフェース</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#attributes-1" class="tocxref"><span class="secno">4.4.1 </span>属性</a>
            </li>
            <li class="tocline">
              <a href="#methods-2" class="tocxref"><span class="secno">4.4.2 </span>メソッド</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a href="#midisuccesscallback" class="tocxref"><span class="secno">4.5 </span>MIDISuccessCallback</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#callback-midisuccesscallback-parameters" class="tocxref"><span class="secno">4.5.1 </span>コールバック <span class="formerLink"><code>MIDISuccessCallback</code></span> パラメータ</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a href="#midierrorcallback" class="tocxref"><span class="secno">4.6 </span>
          MIDIErrorCallback
        </a>
          <ul class="toc">
            <li class="tocline">
              <a href="#callback-midierrorcallback-parameters" class="tocxref"><span class="secno">4.6.1 </span>コールバック <span class="formerLink"><code>MIDIErrorCallback</code></span> パラメータ</a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li class="tocline">
      <a href="#midiaccess-interface" class="tocxref"><span class="secno">5. </span><span class="formerLink"><code>MIDIAccess</code></span> インターフェース</a>
      <ul class="toc">
        <li class="tocline">
          <a href="#attributes-2" class="tocxref"><span class="secno">5.1 </span>属性</a>
        </li>
      </ul>
    </li>
    <li class="tocline">
      <a href="#midiport-interface" class="tocxref"><span class="secno">6. </span><span class="formerLink"><code>MIDIPort</code></span> インターフェース</a>
      <ul class="toc">
        <li class="tocline">
          <a href="#attributes-3" class="tocxref"><span class="secno">6.1 </span>属性</a>
        </li>
        <li class="tocline">
          <a href="#midiinput-interface" class="tocxref"><span class="secno">6.2 </span><span class="formerLink"><code>MIDIInput</code></span> インターフェース</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#attributes-4" class="tocxref"><span class="secno">6.2.1 </span>属性</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a href="#midioutput-interface" class="tocxref"><span class="secno">6.3 </span><span class="formerLink"><code>MIDIOutput</code></span> インターフェース</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#methods-3" class="tocxref"><span class="secno">6.3.1 </span>メソッド</a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li class="tocline">
      <a href="#midimessageevent-interface" class="tocxref"><span class="secno">7. </span><span class="formerLink"><code>MIDIMessageEvent</code></span> インターフェース</a>
      <ul class="toc">
        <li class="tocline">
          <a href="#attributes-5" class="tocxref"><span class="secno">7.1 </span>属性</a>
        </li>
        <li class="tocline">
          <a href="#midimessageeventinit-interface" class="tocxref"><span class="secno">7.2 </span><span class="formerLink"><code>MIDIMessageEventInit</code></span> インターフェース</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#dictionary-midimessageeventinit-members" class="tocxref"><span class="secno">7.2.1 </span>ディクショナリ <span class="formerLink"><code>MIDIMessageEventInit</code></span> メンバー</a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li class="tocline">
      <a href="#midiconnectionevent-interface" class="tocxref"><span class="secno">8. </span><span class="formerLink"><code>MIDIConnectionEvent</code></span> インターフェース</a>
      <ul class="toc">
        <li class="tocline">
          <a href="#attributes-6" class="tocxref"><span class="secno">8.1 </span>属性</a>
        </li>
        <li class="tocline">
          <a href="#midiconnectioneventinit-interface" class="tocxref"><span class="secno">8.2 </span><span class="formerLink"><code>MIDIConnectionEventInit</code></span> インターフェース</a>
          <ul class="toc">
            <li class="tocline">
              <a href="#dictionary-midiconnectioneventinit-members" class="tocxref"><span class="secno">8.2.1 </span>ディクショナリ <span class="formerLink"><code>MIDIConnectionEventInit</code></span> メンバー</a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li class="tocline">
      <a href="#examples-of-web-midi-api-usage-in-javascript" class="tocxref"><span class="secno">9. </span>JavaScriptでのWeb MIDI API使用例</a>
      <ul class="toc">
        <li class="tocline">
          <a href="#getting-access-to-the-midi-system" class="tocxref"><span class="secno">9.1 </span>MIDIシステムへのアクセスの取得</a>
        </li>
        <li class="tocline">
          <a href="#requesting-access-to-the-midi-system-with-system-exclusive-support" class="tocxref"><span class="secno">9.2 </span>システムエクスクルーシブ・サポートを伴ったMIDIシステムへのアクセスの取得</a>
        </li>
        <li class="tocline">
          <a href="#listing-inputs-and-outputs" class="tocxref"><span class="secno">9.3 </span>入力および出力のリスティング</a>
        </li>
        <li class="tocline">
          <a href="#handling-midi-input" class="tocxref"><span class="secno">9.4 </span>MIDI入力の扱い方</a>
        </li>
        <li class="tocline">
          <a href="#sending-midi-messages-to-an-output-device" class="tocxref"><span class="secno">9.5 </span>出力デバイスへのMIDIメッセージの送信</a>
        </li>
        <li class="tocline">
          <a href="#a-simple-loopback" class="tocxref"><span class="secno">9.6 </span>単純なループバック</a>
        </li>
        <li class="tocline">
          <a href="#a-simple-monophonic-sine-wave-midi-synthesizer" class="tocxref"><span class="secno">9.7 </span>単純なモノフォニック・サイン波MIDIシンセサイザー</a>
        </li>
      </ul>
    </li>
    <li class="tocline">
      <a href="#security-and-privacy-considerations-of-midi" class="tocxref"><span class="secno">10. </span>MIDIのセキュリティとプライバシーに関する考察</a>
    </li>
    <li class="tocline">
      <a href="#references" class="tocxref"><span class="secno">A. </span>リファレンス</a>
      <ul class="toc">
        <li class="tocline">
          <a href="#normative-references" class="tocxref"><span class="secno">A.1 </span>基準リファレンス</a>
        </li>
      </ul>
    </li>
  </ul>
</section>

    <section class="informative" id="introduction">
      <!--OddPage--><h2 aria-level="1" role="heading" id="h2_introduction"><span class="secno">1. </span>序文 <button onclick="OpenOriginal('introduction')">原文</button></h2><p><em>このセクションは非基準情報です。</em></p>
      <p>
        Web MIDI API仕様はWeb開発者がMIDIデバイス、例えば機器が接続されるハードウェアMIDIポートやUSB-MIDI仕様をサポートしたUSB機器などのインターフェース、に対して列挙、操作、アクセスを行う手段を定義しています。
        MIDIに対するWeb APIを持つ事で、Webアプリケーションは既存のソフトウェアやハードウェアのシンセサイザー、ハードウェアの音楽コントローラー、照明システムやその他のMIDIで制御される機器/機械を使う事ができるようになります。このAPIは広い範囲の使用例を念頭に定義されています。
        <!--The Web MIDI API specification defines a means for web developers to
        enumerate, manipulate and access MIDI devices - for example interfaces that may provide hardware MIDI ports with other devices plugged in to them and USB devices that support the USB-MIDI specification. Having a Web API for MIDI enables web applications that use existing software and
        hardware synthesizers, hardware music controllers and light systems and other mechanical
        apparatus controlled by MIDI.  This API has been defined with this wide variety of use cases in mind.  -->
      </p>
      <p>
        このAPIが取るアプローチはApple社のCoreMIDIやMicrosoft社のWindows MIDI APIに似ています。
        つまり、APIは開発者がその上に有用なMIDIソフトウェアを構築できるように、MIDIの低レベルのソフトウェアプロトコルを表すように設計されていると言う事です。
        APIは開発者が入出力インターフェースを列挙し、MIDIメッセージを送受信する事を可能にしますが、(前述の他のAPIと同様に)現存するデバイスを確実にサポートするために必要な範囲を超えて、MIDIメッセージの意味を定義したり解釈する事は行いません。
        <!--The approaches taken by this API are similar to those taken in Apple's CoreMIDI API and Microsoft's Windows MIDI API; that is, the API is designed to represent the low-level software protocol of MIDI, in order to enable developers to build powerful MIDI software on top.  The API enables the developer to enumerate input and output interfaces, and send and receive MIDI messages, but (similar to the aforementioned APIs) it does not attempt to semantically define or interpret MIDI messages beyond what is necessary to robustly support current devices.-->
      </p>
      <p>
        Web MIDI APIはシーケンサーなどの高レベルの概念を直接実装する事は意図していません。例えば、スタンダードMIDIファイルは直接サポートされませんが、Web MIDI APIの上にスタンダードMIDIファイルプレーヤーを構築する事は可能です。
        また、ジェネラルMIDIが行っているようにパッチやコントローラーのアサインを意味的に定める事も意図しません。それらの解釈はWeb MIDI APIの範囲外です(繰り返しになりますが、Web MIDI APIを通してジェネラルMIDIを簡単に利用する事はできます)。
        <!--The Web MIDI API is not intended to directly implement high-level concepts such as sequencing; it does not directly support Standard MIDI Files, for example, although a Standard MIDI File player can be built on top of the Web MIDI API.  It is also not intended to semantically capture patches or controller assignments, as General MIDI does; such interpretation is outside the scope of the Web MIDI API (though again, General MIDI can easily be utilized through the Web MIDI API).-->
      </p>
    </section>

    <section id="conformance" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter"><!--OddPage--><h2 aria-level="1" role="heading" id="h2_conformance"><span class="secno">2. </span>準拠 <button onclick="OpenOriginal('conformance')">原文</button></h2>
<p>
  この仕様中、非基準情報と書かれているセクションと同様に、全てのオーサリングガイドライン、図、例、注、は非基準情報です。
  仕様内のその他の全ては基準情報です。
  <!--As well as sections marked as non-normative, all authoring guidelines, diagrams, examples,
  and notes in this specification are non-normative. Everything else in this specification is
  normative.-->
</p>
<p>
    この仕様内のキーワード、<em class="rfc2119" title="MUST">MUST</em>、 <em class="rfc2119" title="MUST NOT">MUST NOT</em>、 <em class="rfc2119" title="REQUIRED">REQUIRED</em>、 <em class="rfc2119" title="SHOULD">SHOULD</em>、 <em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em>、 <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em>、 <em class="rfc2119" title="MAY">MAY</em>、 <em class="rfc2119" title="OPTIONAL">OPTIONAL</em>は[<cite><a class="bibref" href="#bib-RFC2119">RFC2119</a></cite>]で規定されているように解釈されます。
  <!--The key words <em class="rfc2119" title="MUST">MUST</em>, <em class="rfc2119" title="MUST NOT">MUST NOT</em>, <em class="rfc2119" title="REQUIRED">REQUIRED</em>, <em class="rfc2119" title="SHOULD">SHOULD</em>, <em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em>, <em class="rfc2119" title="RECOMMENDED">RECOMMENDED</em>, <em class="rfc2119" title="MAY">MAY</em>,
  and <em class="rfc2119" title="OPTIONAL">OPTIONAL</em> in this specification are to be interpreted as described in [<cite><a class="bibref" href="#bib-RFC2119">RFC2119</a></cite>].-->
</p>

      <p>
        この仕様で定義される適合基準は、このインターフェースを実装する<dfn id="dfn-user-agent">ユーザーエージェント</dfn>単体に適用されます。
        <!--This specification defines conformance criteria that apply to a single
        product: the <dfn id="dfn-user-agent">user agent</dfn> that implements the
        interfaces that it contains.-->
      </p>
      <p>
        この仕様で定められているAPIの実装にECMAScriptを使用する場合、
        この仕様で使用されているWeb IDL仕様[<cite><a class="bibref" href="#bib-WEBIDL">WEBIDL</a></cite>]で定義されるECMAScriptバインディングの作法で実装しなくてはなりません。
         <!--Implementations that use ECMAScript to implement the APIs defined in
        this specification <em class="rfc2119" title="MUST">MUST</em> implement them in a manner consistent with the
        ECMAScript Bindings defined in the Web IDL specification [<cite><a class="bibref" href="#bib-WEBIDL">WEBIDL</a></cite>],
        as this specification uses that specification and terminology.-->
      </p>
    </section>

    <section id="terminology">
      <!--OddPage--><h2 aria-level="1" role="heading" id="h2_terminology"><span class="secno">3. </span>用語 <button onclick="OpenOriginal('terminology')">原文</button></h2>
      <p>
        <dfn id="dfn-queue-a-task"><a href="http://dev.w3.org/html5/spec/webappapis.html#queue-a-task">タスクをキューに登録</a></dfn>および、<dfn id="dfn-fires-a-simple-event"><a href="http://dev.w3.org/html5/spec/webappapis.html#fire-a-simple-event">
        単純なイベントの発行</a></dfn>の概念は、[<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]で定義されています。
        <!--The concepts <dfn id="dfn-queue-a-task"><a href="http://www.w3.org/TR/html5/webappapis.html#queue-a-task">
        queue a task</a></dfn> and
        <dfn id="dfn-fires-a-simple-event"><a href="http://www.w3.org/TR/html5/webappapis.html#fire-a-simple-event">
        fires a simple event</a></dfn> are defined in [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>].-->
      </p>
      <p>
        <dfn id="dfn-event-handlers"><a href="http://dev.w3.org/html5/spec/webappapis.html#event-handlers"> イベントハンドラー</a></dfn>、<dfn id="dfn-event-handler-event-types"><a href="http://dev.w3.org/html5/spec/webappapis.html#event-handler-event-type">イベントハンドラー・イベントタイプ</a></dfn>および対応する<a href="http://www.w3.org/html/wg/drafts/html/master/single-page.html#eventhandler"><code>EventHandler</code></a>インターフェースは[<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]で定義されています。
        <!--The terms <dfn id="dfn-event-handlers"><a href="http://www.w3.org/TR/html5/webappapis.html#event-handlers">
        event handlers</a></dfn> and
        <dfn id="dfn-event-handler-event-types"><a href="http://www.w3.org/TR/html5/webappapis.html#event-handler-event-type">
        event handler event types</a></dfn> and corresponding <a href="http://www.w3.org/html/wg/drafts/html/master/single-page.html#eventhandler"><code>EventHandler</code></a> interface are defined in [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]. --></p>
      <p>
        <dfn id="dfn-uint8array"><a href="http://www.khronos.org/registry/typedarray/specs/latest/#TYPEDARRAYS">Uint8Array</a></dfn>インターフェースは[<cite><a class="bibref" href="#bib-TYPED-ARRAYS">TYPED-ARRAYS</a></cite>]で定義されています。
        <!--The <dfn id="dfn-uint8array"><a href="http://www.khronos.org/registry/typedarray/specs/latest/#TYPEDARRAYS">Uint8Array</a></dfn> interface
        is defined in [<cite><a class="bibref" href="#bib-TYPED-ARRAYS">TYPED-ARRAYS</a></cite>].-->
      </p>
      <p>
        <dfn id="OctetDfn"><a href="http://www.w3.org/TR/WebIDL/#idl-octet">octet</a></dfn>は[<cite><a class="bibref" href="#bib-WEBIDL">WEBIDL</a></cite>]で定義されています。
        <!--The term <dfn id="OctetDfn"><a href="http://www.w3.org/TR/WebIDL/#idl-octet">octet</a></dfn> is defined in [<cite><a class="bibref" href="#bib-WEBIDL">WEBIDL</a></cite>].-->
      </p>
      <p>
        <dfn id="WebAudio">Web Audio API</dfn>およびそれに関連するインターフェース、概念は[<cite><a class="bibref" href="#bib-webaudio">webaudio</a></cite>]で定義されています。
        <!--The <dfn id="WebAudio">Web Audio API</dfn> and its associated interfaces and concepts are defined in [<cite><a class="bibref" href="#bib-webaudio">webaudio</a></cite>].-->
      </p>
      <p>
        <a href="http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html/#interface-event"><dfn title="Event" id="dfn-event">Event</dfn></a>インターフェースは[<cite><a class="bibref" href="#bib-DOM4">DOM4</a></cite>]で定義されています。
        <!--The <a href="http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html/#interface-event"><dfn title="Event" id="dfn-event">Event</dfn></a> interface
        is defined in [<cite><a class="bibref" href="#bib-DOM4">DOM4</a></cite>].-->
      </p>
      <p>
        <a href="http://www.w3.org/TR/DOM-Level-3-Core/core.html#ERROR-Interfaces-DOMError"><dfn title="DOMError" id="dfn-domerror">DOMError</dfn></a>インターフェースは[<cite><a class="bibref" href="#bib-DOM-LEVEL-3-CORE">DOM-LEVEL-3-CORE</a></cite>]で定義されています。
        <!--The <a href="http://www.w3.org/TR/DOM-Level-3-Core/core.html#ERROR-Interfaces-DOMError"><dfn title="DOMError" id="dfn-domerror">DOMError</dfn></a> interface is defined in [<cite><a class="bibref" href="#bib-DOM-LEVEL-3-CORE">DOM-LEVEL-3-CORE</a></cite>].-->
      </p><p>
        <dfn id="DomHighResTimeStampDfn"><a href="http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/HighResolutionTime/Overview.html#sec-DOMHighResTimeStamp">DOMHighResTimeStamp</a></dfn>インターフェースは[<cite><a class="bibref" href="#bib-HIGHRES-TIME">HIGHRES-TIME</a></cite>]で定義されています。
        <!--The <dfn id="DomHighResTimeStampDfn"><a href="http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/HighResolutionTime/Overview.html#sec-DOMHighResTimeStamp">DOMHighResTimeStamp</a></dfn> interface is defined in [<cite><a class="bibref" href="#bib-HIGHRES-TIME">HIGHRES-TIME</a></cite>].-->
      </p>
      <p>
        <dfn id="dfn-midi">MIDI</dfn>、 <dfn id="dfn-midi-device">MIDIデバイス</dfn>、<dfn id="dfn-midi-input-port">MIDI入力ポート</dfn>、<dfn id="dfn-midi-output-port">MIDI出力ポート</dfn>、<dfn id="dfn-midi-interface">MIDIインターフェース</dfn>、<dfn id="dfn-midi-message">MIDIメッセージ</dfn>、<dfn id="dfn-midi-system-real-time-message">MIDIシステム・リアルタイム・メッセージ</dfn>、<dfn id="dfn-system-exclusive">システムエクスルーシブ</dfn>は[<cite><a class="bibref" href="#bib-MIDI">MIDI</a></cite>]で定義されています。
        <!--The terms <dfn id="dfn-midi">MIDI</dfn>, <dfn id="dfn-midi-device">MIDI device</dfn>, <dfn id="dfn-midi-input-port">MIDI input port</dfn>, <dfn id="dfn-midi-output-port">MIDI output port</dfn>, <dfn id="dfn-midi-interface">MIDI interface</dfn>, <dfn id="dfn-midi-message">MIDI message</dfn>, <dfn id="dfn-midi-system-real-time-message">MIDI System Real-Time message</dfn> and <dfn id="dfn-system-exclusive">system exclusive</dfn> are defined in [<cite><a class="bibref" href="#bib-MIDI">MIDI</a></cite>].-->
      </p><p>
        <dfn id="dfn-promise"><a href="http://dom.spec.whatwg.org/#promises">Promise</a></dfn>インターフェースは現在<a href="http://dom.spec.whatwg.org/">the WHATWG DOM specification</a>で定義されています。
        <!--The <dfn id="dfn-promise"><a href="http://dom.spec.whatwg.org/#promises">Promise</a></dfn> interface is currently defined in <a href="http://dom.spec.whatwg.org/">the WHATWG DOM specification</a>.-->
<!-- FIXME: This list is not exhaustive. -->
    </p></section>

    <section id="obtaining-access-to-midi-devices">
      <!--OddPage--><h2 aria-level="1" role="heading" id="h2_obtaining-access-to-midi-devices"><span class="secno">4. </span>MIDIデバイスへのアクセスの取得 <button onclick="OpenOriginal('obtaining-access-to-midi-devices')">原文</button></h2>

      <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="requestmidiaccess">
          <h3 id="requestMIDIAccess" aria-level="2" role="heading"><span class="secno">4.1 </span>requestMIDIAccess() <button onclick="OpenOriginal('requestmidiaccess')">原文</button></h3>

          <pre class="idl"><span class="idlInterface" id="idl-def-Navigator">partial interface <span class="idlInterfaceID">Navigator</span> {
<span class="idlMethod">    <span class="idlMethType"><a href="#dfn-promise" class="internalDFN">Promise</a></span> <span class="idlMethName"><a href="#widl-Navigator-requestMIDIAccess-Promise-MIDIOptions-options">requestMIDIAccess</a></span> (<span class="idlParam">optional <span class="idlParamType"><a href="#idl-def-MIDIOptions" class="idlType"><code>MIDIOptions</code></a></span> <span class="idlParamName">options</span></span>);</span>
};</span></pre><section id="methods"><h4 aria-level="3" role="heading" id="h4_methods"><span class="secno">4.1.1 </span>メソッド <button onclick="OpenOriginal('methods')">原文</button></h4>
<dl class="methods"><dt id="widl-Navigator-requestMIDIAccess-Promise-MIDIOptions-options"><code>requestMIDIAccess</code></dt><dd>
              <p>
                呼び出されると、ユーザーシステム上のMIDIデバイスへのアクセス要求を表すPromiseオブジェクトを返します。
                <!--When invoked, returns a Promise object representing a request for access to MIDI devices on the user's system.-->
              </p>

              <p>
                MIDIアクセスの要求、特にシステムエクスクルーシブへのアクセスは、ユーザーに対してプロンプトを出し、MIDIデバイスにアクセスする旨の許可を得なくてはなりません(<em class="rfc2119" title="SHOULD">SHOULD</em>)。
               シナリオによっては、この許可は暗黙的あるいは明示的に既に得られている事もあり、この場合にはこのプロンプトは表示されないかも知れません。
               もしユーザーが承諾するか、他の手段で許可されている場合、Promiseの<var>resolveCallback</var>が<code><a href="#idl-def-MIDISuccessCallback" class="idlType"><code>MIDISuccessCallback</code></a></code>として呼び出されます (つまり、<code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code>オブジェクトと<code><a href="#idl-def-MIDIOptions" class="idlType"><code>MIDIOptions</code></a></code>オブジェクトが引数となります)。
                必須ではありませんが、下層のシステムはユーザーが特定のMIDIインターフェースをこのAPIを通じて選択できるように、(個別の基準で選択して)選ぶ事もあります。
                また、システムエクスクルーシブはプライバシー情報をより多く含んでいるため、そのサポートを要求されたかどうかによって、システムはプロンプト(あるいは何か他の手段で)メッセージを出すかも知れません。
                <!--Requesting MIDI access <em class="rfc2119" title="SHOULD">SHOULD</em> prompt the user for access to MIDI devices,
                particularly if system exclusive access is requested.  In some
                scenarios, this permission may have already been implicitly or
                explicitly granted, in which case this prompt may not appear. 
                If the user gives express permission or the call is otherwise 
                approved, the vended Promise's <var>resolveCallback</var> is invoked, as a <code><a href="#idl-def-MIDISuccessCallback" class="idlType"><code>MIDISuccessCallback</code></a></code> (i.e., with a 
                <code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code> object and a <code><a href="#idl-def-MIDIOptions" class="idlType"><code>MIDIOptions</code></a></code> object as its arguments.  The 
                underlying system may choose to allow the user to select 
                specific MIDI interfaces to expose to this API (i.e. pick 
                and choose interfaces on an individual basis), although 
                this is not required.  The system may also choose to prompt
                (or not) based on whether system exclusive support is
                requested, as system exclusive has greater privacy and
                security implications.--></p>
              <p>
                ユーザーが拒否、あるいは別の理由で呼び出しが許可されていない場合、(もし設定されていれば)Promiseの<var>rejectCallback</var>が<code><a href="#idl-def-MIDIErrorCallback" class="idlType"><code>MIDIErrorCallback</code></a></code>として呼び出されます。
                <!--If the user declines or the call is denied for any other reason, the Promise's 
                <var>rejectCallback</var> (if any) is invoked as a <code><a href="#idl-def-MIDIErrorCallback" class="idlType"><code>MIDIErrorCallback</code></a></code>.-->
              </p>
              <p>
                <dfn id="dom-navigator-requestmidiaccess"><code>requestMIDIAccess</code></dfn>メソッドが呼ばれた時、ユーザーエージェントは以下の<dfn id="dfn-algorithm-to-request-midi-access">MIDIアクセス・リクエストアルゴリズム</dfn>を実行しなくてはなりません(<em class="rfc2119" title="MUST">MUST</em>)：
                <!--When the <dfn id="dom-navigator-requestmidiaccess">
                <code>requestMIDIAccess</code></dfn> method is called, the user
                agent <em class="rfc2119" title="MUST">MUST</em> run the <dfn id="dfn-algorithm-to-request-midi-access">algorithm to request MIDI Access</dfn>:-->
              </p>

              <ol>
                <li><p>新しいPromiseオブジェクト、<var>promise</var>を作成し、<var>resolver</var>をそれに結びついたリゾルバとします。
                  <!--Let <var>promise</var> be a new Promise object and <var>resolver</var> be its associated resolver.--></p></li>
                <li><p><var>promise</var>を返し、以下のステップを非同期に実行します。
                  <!--Return <var>promise</var> and run the following steps asynchronously.--></p></li>

                <li><p>
                  前もって行われている設定、セキュリティ上の理由、プラットフォームの制限などによって必要ならば、下の<em>失敗</em>ステップにジャンプします。
                  <!--Optionally, e.g. based on a previously-established user
                  preference, for security reasons, or due to platform
                  limitations, jump to the step labeled <em>failure</em>
                  below.-->
                </p></li>

                <li><p>
                  前もって行われている設定などによって必要ならば、下の<em>成功</em>ステップにジャンプします。
                  <!--Optionally, e.g. based on a previously-established user
                  preference, jump to the step labeled <em>success</em>
                  below.-->
                </p></li>

                <li><p>
                     ユーザーエージェント固有の方法でユーザーにプロンプトを出し、
                    MIDIデバイスの制御を表す<code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code>オブジェクト、即ちスクリプトの起点を渡す事に対する許可を得ます。
                    このプロンプトにはシステムエクスクルーシブのサポートを要求されているかどうかの条件が示され、
                    ユーザーはアクセスを有効にするか無効にするかを選択できます。
                    <!--Prompt the user in a user-agent-specific manner for
                    permission to provide the entry script's origin with a
                    <code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code> object representing
                    control over user's MIDI devices.  This prompt may 
                    be contingent upon whether system exclusive support was
                    requested, and may allow the user to enable or disable
                    that access.-->
                  </p>

                  <p>
                    拒否された場合、下の<em>失敗</em>ステップにジャンプします。
                    ユーザーが応答しない場合、このアルゴリズムはこのステップに留まったまま進みません。
                    許可された場合、次のステップに進みます。
                    <!--If permission is denied, jump to the step labeled
                    <em>failure</em> below. If the user never responds, this
                    algorithm will never progress beyond this step.  If
                    permission is granted, continue the following steps.-->
                  </p>
                </li>

                <li><p>
                  <em><b>成功の場合</b>：</em>
                  新しい<code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code>オブジェクトを作成し、<var>access</var>とします。
                  (ユーザーへのプロンプトが複数回表示されるかも知れませんのであまり実際的ではありませんが、requestMIDIAccess()を複数回呼び出す事は可能です。そしてこの場合、毎回MIDIAccessのインスタンスは同じではありません)
                  <!--<em><b>success</b></em>: Let <var>access</var> be a new <code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code> object.  (It is possible to call requestMIDIAccess() multiple times; this may prompt the user multiple times, so it may not be best practice, and the same instance of MIDIAccess will not be returned each time.)--></p></li>

                <li><p>
                  <var>access</var>を引数として、<var>resolver</var>の<code>accept(value)</code>メソッドが呼び出されます。
                  <!--Call <var>resolver</var>'s <code>accept(value)</code> method with <var>access</var> as value argument.--></p></li>
                <li><p>
                  ステップを終了します。
                  <!--Terminate these steps.--></p></li>
                <li><p>
                  <em><b>失敗の場合</b></em>：
                  新しい<code><a href="#dfn-domerror" class="internalDFN">DOMError</a></code>を作成し、<var>error</var>とします。
                  その型は、もしユーザーの設定かセキュリティ設定により、MIDIAccessインスタンスの作成を拒否された場合は<code>"SecurityError"</code>、
                  下層のシステムが何らかのエラーを発生した場合は<code>"InvalidStateError"</code>、
                  それ以外の場合は<code>"NotSupportedError"</code>としなくてはなりません。
                  <!--<em><b>failure</b></em>: Let <var>error</var> be a new <code><a href="#dfn-domerror" class="internalDFN">DOMError</a></code>.
                  This should be of type <code>"SecurityError"</code> if the
                  user or their security settings denied the application from creating a MIDIAccess instance with the requested options, <code>"InvalidStateError"</code> if the underlying systems raise any errors, or otherwise it should be of type <code>"NotSupportedError"</code>.--></p></li>
                <li><p>
                  <var>error</var>を引数として、<var>resolver</var>の<code>reject(value)</code>メソッドを呼び出します。
                  <!--Call <var>resolver</var>'s <code>reject(value)</code> method with <var>error</var> as value argument.--></p></li>
              </ol>

            <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">options</td><td class="prmType"><code><a href="#idl-def-MIDIOptions" class="idlType"><code>MIDIOptions</code></a></code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptTrue"><span role="img" aria-label="True">✔</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>Return type: </em><code><a href="#dfn-promise" class="internalDFN">Promise</a></code></div></dd></dl></section>
      </section>

      <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midioptions-dictionary">
        <h3 id="MIDIOptions" aria-level="2" role="heading"><span class="secno">4.2 </span><a href="#idl-def-MIDIOptions" class="idlType"><code>MIDIOptions</code></a> ディクショナリ <button onclick="OpenOriginal('midioptions-dictionary')">原文</button></h3>
        <p>
          このディクショナリはrequestMIDIAccess要求に渡される、オプション設定を保持します。
          <!--This dictionary contains optional settings that may be provided to the requestMIDIAccess request.--></p>

        <pre class="idl"><span class="idlDictionary" id="idl-def-MIDIOptions">dictionary <span class="idlDictionaryID">MIDIOptions</span> {
<span class="idlMember">    <span class="idlMemberType">boolean</span> <span class="idlMemberName"><a href="#widl-MIDIOptions-sysex">sysex</a></span>;</span>
};</span></pre><section id="dictionary-midioptions-members"><h4 aria-level="3" role="heading" id="h4_dictionary-midioptions-members"><span class="secno">4.2.1 </span>ディクショナリ <a class="idlType" href="#idl-def-MIDIOptions"><code>MIDIOptions</code></a> メンバー <button onclick="OpenOriginal('dictionary-midioptions-members')">原文</button></h4>
<dl class="dictionary-members"><dt id="widl-MIDIOptions-sysex"><code>sysex</code> <span class="idlMemberType">boolean</span>型</dt><dd>
            <p>
              このメンバーはその<a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a>オブジェクトによってシステムエクスクルーシブ・メッセージの送受信を行う事を要求、または許可する事を表します。
              このメンバーがtrueに設定されたオプションが<code><a href="#dom-navigator-requestmidiaccess" class="internalDFN">requestMIDIAccess</a></code>に渡され、しかし、(ポリシーまたはユーザーアクションによって)、システムエクスクルーシブのサポートが否定された場合、アクセス要求は失敗し<code>"SecurityError"</code>エラーが発生します。
              もし、このサポートを要求しない(そして許可された)場合、ユーザーがシステムエクスクルーシブ・メッセージを送信しようとした時には例外が発生し、
              そのポートでシステムエクスクルーシブ・メッセージを受信した時には全て無反応のままマスクされます。
              <!--This member informs the system whether the ability to send and receive system exclusive messages is requested or allowed on a given <a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a> object.  On the option passed to <code><a href="#dom-navigator-requestmidiaccess" class="internalDFN">requestMIDIAccess</a></code>, if this member is set to true, but system exclusive support is denied (either by policy or by user action), the access request will fail with a <code>"SecurityError"</code> error.  If this support is not requested (and allowed), the system will throw exceptions if the user tries to send system exclusive messages, and will silently mask out any system exclusive messages received on the port.--></p>
            <p>
              resolveCallbackに渡されるパラメータの<code>options</code>では、このメンバーはシステムエクスクルーシブがMIDIAccess上で許可されている事を表します。
              <!--In the <code>options</code> parameter passed to the resolveCallback, this member indicates whether system exclusive is allowed on the MIDIAccess.--></p>
          </dd></dl></section>
      </section>

      <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midiinputmap-interface">
        <h3 id="MIDIInputMap" aria-level="2" role="heading"><span class="secno">4.3 </span><dfn id="dfn-midiinputmap">MIDIInputMap</dfn> インターフェース <button onclick="OpenOriginal('midiinputmap-interface')">原文</button></h3>

        <pre class="idl"><span class="idlInterface" id="idl-def-generatedID">interface <span class="idlInterfaceID"></span> {
<span class="idlAttribute">                attribute <span class="idlAttrType">readonly int</span> <span class="idlAttrName"><a href="#widl-MIDIInput-size">size</a></span>;</span>
<span class="idlMethod">    <span class="idlMethType">function</span>  <span class="idlMethName"><a href="#widl-MIDIInput-keys-function-void-function---DOMString">keys</a></span> (<span class="idlParam"><span class="idlParamType">void function (</span> <span class="idlParamName">DOMString)</span></span>);</span>
<span class="idlMethod">    <span class="idlMethType">function</span>  <span class="idlMethName"><a href="#widl-MIDIInput-entries-function-void-function---Array">entries</a></span> (<span class="idlParam"><span class="idlParamType">void function (</span> <span class="idlParamName">Array)</span></span>);</span>
<span class="idlMethod">    <span class="idlMethType">function</span>  <span class="idlMethName"><a href="#widl-MIDIInput-values-function-void-function---MIDIInput">values</a></span> (<span class="idlParam"><span class="idlParamType">void function (</span> <span class="idlParamName">MIDIInput)</span></span>);</span>
<span class="idlMethod">    <span class="idlMethType"><a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a></span> <span class="idlMethName"><a href="#widl-MIDIInput-get-MIDIInput-DOMString-key">get</a></span> (<span class="idlParam"><span class="idlParamType">DOMString</span> <span class="idlParamName">key</span></span>);</span>
<span class="idlMethod">    <span class="idlMethType">boolean</span>   <span class="idlMethName"><a href="#widl-MIDIInput-has-boolean-DOMString-key">has</a></span> (<span class="idlParam"><span class="idlParamType">DOMString</span> <span class="idlParamName">key</span></span>);</span>
};</span></pre><section id="attributes"><h4 aria-level="3" role="heading" id="h4_attributes"><span class="secno">4.3.1 </span>属性 <button onclick="OpenOriginal('attributes')">原文</button></h4>
<dl class="attributes"><dt id="widl-MIDIInput-size"><code>size</code> <span class="idlAttrType">readonly int</span>型            </dt><dd>
  現在使用可能なMIDI入力ポートの数です。
  <!--The number of available MIDI input ports at the current time.--></dd></dl></section>

<section id="methods-1"><h4 aria-level="3" role="heading" id="h4_methods-1"><span class="secno">4.3.2 </span>メソッド <button onclick="OpenOriginal('methods-1')">原文</button></h4>
<dl class="methods"><dt id="widl-MIDIInput-entries-function-void-function---Array"><code>entries</code></dt><dd>
  [ MIDIKeyType, MIDIInput ]を含む配列を渡す、マップエントリーに対するイテレータです。
  <!--iterator for map entries; the passed arrays would contain [ MIDIKeyType, MIDIInput ]-->
  <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">Array)</td><td class="prmType"><code>void function (</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>戻り値： </em><code>function</code></div></dd><dt id="widl-MIDIInput-get-MIDIInput-DOMString-key"><code>get</code></dt><dd>
  特定の入力を取得します。
  <!--Getter for a particular input-->
  <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">key</td><td class="prmType"><code>DOMString</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>戻り値： </em><code><a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a></code></div></dd><dt id="widl-MIDIInput-has-boolean-DOMString-key"><code>has</code></dt><dd>
  keyで示されるポートが現在存在して、使用可能な場合、trueを返します。
  <!--Returns true if the keyed port currently exists and is available.-->
  <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">key</td><td class="prmType"><code>DOMString</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>戻り値： </em><code>boolean</code></div></dd><dt id="widl-MIDIInput-keys-function-void-function---DOMString"><code>keys</code></dt><dd>
  キーに対するイテレータです
  <!--iterator for keys-->
  <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">DOMString)</td><td class="prmType"><code>void function (</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>戻り値： </em><code>function</code></div></dd><dt id="widl-MIDIInput-values-function-void-function---MIDIInput"><code>values</code></dt><dd>
  値に対するイテレータです
  <!--Iterator for values-->
  <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">MIDIInput)</td><td class="prmType"><code>void function (</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>戻り値： </em><code>function</code></div></dd></dl></section>

        <p>
          これは現在使用可能な全てのMIDI入力ポートを表すために用いられる、MapClassのようなインターフェースです。これによって次のコードが使用できるようになります：
          <!--This type is used to represent all the currently available MIDI input ports as a MapClass-like interface.  This enables -->
          </p><pre>    //  エントリーが幾つあるかを調べます： <!--to tell how many entries there are:-->
    var numberOfMIDIInputs = inputs.size;

    // それぞれのポートに&lt;select&gt;ボックスを付けます <!--add each of the ports to a &lt;select&gt; box-->
    inputs.values( function( port ) {
      var opt = document.createElement("option");
      opt.text = port.name;
      document.getElementById("inputportselector").add(opt);
    });

    // あるいは、こういう書き方もできます： <!--or you could express as:--><span class="annotate">(訳注：このコードにはまだ誤りが含まれていると思われます)</span>
    for (input in inputs) {
      var opt = document.createElement("option");
      opt.text = input.name;
      document.getElementById("inputportselector").add(opt);
    }</pre>
      </section>


      <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midioutputmap-interface">
        <h3 id="MIDIOutputMap" aria-level="2" role="heading"><span class="secno">4.4 </span><dfn id="dfn-midioutputmap">MIDIOutputMap</dfn> インターフェース <button onclick="OpenOriginal('midioutputmap-interface')">原文</button></h3>

        <pre class="idl"><span class="idlInterface" id="idl-def-generatedID-1">interface <span class="idlInterfaceID"></span> {
<span class="idlAttribute">                attribute <span class="idlAttrType">readonly int</span> <span class="idlAttrName"><a href="#widl-undefined-size-1">size</a></span>;</span>
<span class="idlMethod">    <span class="idlMethType">function</span>   <span class="idlMethName"><a href="#widl-undefined-keys-function-void-function---DOMString---MIDIOutput">keys</a></span> (<span class="idlParam"><span class="idlParamType">void function (</span> <span class="idlParamName">DOMString)</span></span>);</span>
<span class="idlMethod">    <span class="idlMethType">function</span>   <span class="idlMethName"><a href="#widl-undefined-entries-function-void-function---Array---MIDIOutput">entries</a></span> (<span class="idlParam"><span class="idlParamType">void function (</span> <span class="idlParamName">Array)</span></span>);</span>
<span class="idlMethod">    <span class="idlMethType">function</span>   <span class="idlMethName"><a href="#widl-undefined-values-function-void-function---MIDIOutput">values</a></span> (<span class="idlParam"><span class="idlParamType">void function (</span> <span class="idlParamName">MIDIOutput)</span></span>);</span>
<span class="idlMethod">    <span class="idlMethType"><a href="#idl-def-MIDIOutput" class="idlType"><code>MIDIOutput</code></a></span> <span class="idlMethName"><a href="#widl-undefined-get-MIDIOutput-DOMString-key">get</a></span> (<span class="idlParam"><span class="idlParamType">DOMString</span> <span class="idlParamName">key</span></span>);</span>
<span class="idlMethod">    <span class="idlMethType">boolean</span>    <span class="idlMethName"><a href="#widl-undefined-has-boolean-DOMString-key---MIDIOutput">has</a></span> (<span class="idlParam"><span class="idlParamType">DOMString</span> <span class="idlParamName">key</span></span>);</span>
};</span></pre><section id="attributes-1"><h4 aria-level="3" role="heading" id="h4_attributes-1"><span class="secno">4.4.1 </span>属性 <button onclick="OpenOriginal('attributes-1')">原文</button></h4>
<dl class="attributes"><dt id="widl-undefined-size-1"><code>size</code> <span class="idlAttrType">readonly int</span>型            </dt><dd>
  現在使用可能なMIDI出力ポート数です。
  <!--The number of available MIDI output ports at the current time.--></dd></dl></section>

<section id="methods-2"><h4 aria-level="3" role="heading" id="h4_methods-2"><span class="secno">4.4.2 </span>メソッド <button onclick="OpenOriginal('methods-2')">原文</button></h4>
<dl class="methods"><dt id="widl-undefined-entries-function-void-function---Array---MIDIOutput"><code>entries</code></dt><dd>
  [ MIDIKeyType, MIDIOutput ]を含む配列を渡す、マップエントリーに対するイテレータです。
  <!--iterator for map entries; the passed arrays would contain [ MIDIKeyType, MIDIOutput ]-->
  <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">Array)</td><td class="prmType"><code>void function (</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>戻り値： </em><code>function</code></div></dd><dt id="widl-undefined-get-MIDIOutput-DOMString-key"><code>get</code></dt><dd>
  特定の入力<span class="annotate">(訳注：出力)</span>を取得します。
  <!--Getter for a particular input-->
  <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">key</td><td class="prmType"><code>DOMString</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>戻り値： </em><code><a href="#idl-def-MIDIOutput" class="idlType"><code>MIDIOutput</code></a></code></div></dd><dt id="widl-undefined-has-boolean-DOMString-key---MIDIOutput"><code>has</code></dt><dd>
  keyで示されるポートが現在存在して、使用可能ならばtrueを返します。
  <!--Returns true if the keyed port currently exists and is available.-->
  <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">key</td><td class="prmType"><code>DOMString</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>戻り値： </em><code>boolean</code></div></dd><dt id="widl-undefined-keys-function-void-function---DOMString---MIDIOutput"><code>keys</code></dt><dd>
  キーに対するイテレータです。
  <!--iterator for keys-->
  <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">DOMString)</td><td class="prmType"><code>void function (</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>戻り値： </em><code>function</code></div></dd><dt id="widl-undefined-values-function-void-function---MIDIOutput"><code>values</code></dt><dd>
  値に対するイテレータです。
  <!--Iterator for values-->
  <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">MIDIOutput)</td><td class="prmType"><code>void function (</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc"></td></tr></tbody></table><div><em>戻り値： </em><code>function</code></div></dd></dl></section>

        <p>
          これは現在使用可能な全てのMIDI出力ポートを表すために用いられる、MapClassのようなインターフェースです。これによって次のコードが使用できるようになります：
          <!--This type is used to represent all the currently available MIDI output ports as a MapClass-like interface.  This enables -->
          </p><pre>    // エントリーが幾つあるかを調べます： <!--to tell how many entries there are:-->
    var numberOfMIDIOutputs = inputs.size;

    // それぞれのポートに&lt;select&gt;ボックスを付けます <!--add each of the ports to a &lt;select&gt; box-->
    outputs.values( function( port ) {
      var opt = document.createElement("option");
      opt.text = port.name;
      document.getElementById("outputportselector").add(opt);
    });

    // あるいは、こういう書き方もできます： <!--or you could express as:--><span class="annotate">(訳注：このコードにはまだ誤りが含まれていると思われます)</span>
    for (output in outputs) {
      var opt = document.createElement("option");
      opt.text = input.name;
      document.getElementById("inputportselector").add(opt);
    }</pre>
      </section>


      <section id="midisuccesscallback">
        <h3 aria-level="2" role="heading" id="h3_midisuccesscallback"><span class="secno">4.5 </span>MIDISuccessCallback <button onclick="OpenOriginal('midisuccesscallback')">原文</button></h3>

        <pre class="idl"><span class="idlCallback" id="idl-def-MIDISuccessCallback">callback <span class="idlCallbackID">MIDISuccessCallback</span> = <span class="idlCallbackType">void</span> (<span class="idlParam"><span class="idlParamType"><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></span> <span class="idlParamName">access</span></span>, <span class="idlParam"><span class="idlParamType"><a href="#idl-def-MIDIOptions" class="idlType"><code>MIDIOptions</code></a></span> <span class="idlParamName">options</span></span>);</span></pre><section id="callback-midisuccesscallback-parameters"><h4 aria-level="3" role="heading" id="h4_callback-midisuccesscallback-parameters"><span class="secno">4.5.1 </span>コールバック <a class="idlType" href="#idl-def-MIDISuccessCallback"><code>MIDISuccessCallback</code></a> パラメータ <button onclick="OpenOriginal('callback-midisuccesscallback-parameters')">原文</button></h4>
<dl class="callback-members"><dt id="widl-MIDISuccessCallback-access"><code>access</code> <span class="idlMemberType"><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></span>型</dt><dd>
            <p>
              スクリプトからユーザーのMIDIデバイスにアクセスするために作成された、<code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code>オブジェクトです。
              このオブジェクトはそれぞれのMIDIデバイスを列挙し、アクセスを得るために使用されます。
              <!--A <code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code> object created to provide
              script access to the user's MIDI devices.  This object is used
              to enumerate and obtain access to individual MIDI devices.-->
            </p><p>
              <em>注</em>： この仕様での、"MIDIデバイス"という用語はホストシステム上で使用可能なMIDIインターフェースを指します。
              例えば、もしハードウェアのMIDIアダプターが1つだけホストシステムに接続されている時、例え幾つかのMIDI対応機器(シンセサイザーやドラムマシン)がそのアダプターのMIDIポートに繋がれていても、それは1つのデバイスとして列挙されます。
              <!--<em>Note</em>: The term "MIDI device" in this specification 
              refers to a MIDI interface available to the host system; for 
              example, if a hardware MIDI adapter is connected to the host
              system, it will be enumerated as a single device, even if 
              several MIDI-supporting devices (such as synthesizers or drum
              machines) are plugged into hardware MIDI ports on the 
              adapter.-->
          </p></dd><dt id="widl-MIDISuccessCallback-options"><code>options</code> <span class="idlMemberType"><a href="#idl-def-MIDIOptions" class="idlType"><code>MIDIOptions</code></a></span>型</dt><dd>
            <p>
              このパラメータはこの<a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a>オブジェクトで有効にするオプションを表します。
              <!--This parameter describes the options enabled on this <a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a> object.--></p>
          </dd></dl></section>
      </section>

      <section id="midierrorcallback">
        <h3 aria-level="2" role="heading" id="h3_midierrorcallback"><span class="secno">4.6 </span>
          MIDIErrorCallback <button onclick="OpenOriginal('midierrorcallback')">原文</button>
        </h3>

        <pre class="idl"><span class="idlCallback" id="idl-def-MIDIErrorCallback">callback <span class="idlCallbackID">MIDIErrorCallback</span> = <span class="idlCallbackType">void</span> (<span class="idlParam"><span class="idlParamType"><a href="#dfn-domerror" class="internalDFN">DOMError</a></span> <span class="idlParamName">error</span></span>);</span></pre><section id="callback-midierrorcallback-parameters"><h4 aria-level="3" role="heading" id="h4_callback-midierrorcallback-parameters"><span class="secno">4.6.1 </span>コールバック <a class="idlType" href="#idl-def-MIDIErrorCallback"><code>MIDIErrorCallback</code></a> パラメータ <button onclick="OpenOriginal('callback-midierrorcallback-parameters')">原文</button></h4>
<dl class="callback-members"><dt id="widl-MIDIErrorCallback-error"><code>error</code> <span class="idlMemberType"><a href="#dfn-domerror" class="internalDFN">DOMError</a></span>型</dt><dd>
          <code><a href="#dfn-domerror" class="internalDFN">DOMError</a></code>オブジェクトは<code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code>の作成が失敗した理由を表します。
          <!--A <code><a href="#dfn-domerror" class="internalDFN">DOMError</a></code> object representing the reason
          why creating getting a <code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code> failed.-->
          </dd></dl></section>
      </section>

    </section>

    <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midiaccess-interface">
      <!--OddPage--><h2 id="MIDIAccess" aria-level="1" role="heading"><span class="secno">5. </span><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a> インターフェース <button onclick="OpenOriginal('midiaccess-interface')">原文</button></h2>
      <p>
        このインターフェースはMIDI入力および出力デバイスをリストアップして、それぞれのデバイスへのアクセスを得るためのメソッドを持ちます。
        <!--This interface provides the methods to list MIDI input and output
        devices, and obtain access to an individual device.--></p>

      <pre class="idl"><span class="idlInterface" id="idl-def-MIDIAccess">interface <span class="idlInterfaceID">MIDIAccess</span> : <span class="idlSuperclass">EventTarget</span> {
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType"><a href="#dfn-midiinputmap" class="internalDFN">MIDIInputMap</a></span>  <span class="idlAttrName"><a href="#widl-MIDIAccess-inputs">inputs</a></span>;</span>
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType"><a href="#dfn-midioutputmap" class="internalDFN">MIDIOutputMap</a></span> <span class="idlAttrName"><a href="#widl-MIDIAccess-outputs">outputs</a></span>;</span>
<span class="idlAttribute">                attribute <span class="idlAttrType">EventHandler</span>  <span class="idlAttrName"><a href="#widl-MIDIAccess-onconnect">onconnect</a></span>;</span>
<span class="idlAttribute">                attribute <span class="idlAttrType">EventHandler</span>  <span class="idlAttrName"><a href="#widl-MIDIAccess-ondisconnect">ondisconnect</a></span>;</span>
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType">boolean</span>       <span class="idlAttrName"><a href="#widl-MIDIAccess-sysexEnabled">sysexEnabled</a></span>;</span>
};</span></pre><section id="attributes-2"><h3 aria-level="2" role="heading" id="h3_attributes-2"><span class="secno">5.1 </span>属性 <button onclick="OpenOriginal('attributes-2')">原文</button></h3><dl class="attributes"><dt id="widl-MIDIAccess-inputs"><code>inputs</code> <span class="idlAttrType"><a href="#dfn-midiinputmap" class="internalDFN">MIDIInputMap</a></span>, readonly 型  </dt><dd>
  システムで使用可能なMIDI入力ポートです。
  <!--The MIDI input ports available to the system.--></dd>
  <dt id="widl-MIDIAccess-onconnect"><code>onconnect</code> <span class="idlAttrType">EventHandler</span> 型</dt><dd>
          <p>
            新しいポートが接続された時に呼ばれるハンドラーです。
            <!--The handler called when a new port is connected.--></p>
          <p>
            このイベントハンドラーは、<code><a href="#event-midiaccess-connect">MIDIConnectionEvent</a></code>型に対応し、<code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code>インターフェースを実装した全てのオブジェクトでサポートされなくてはなりません(<em class="rfc2119" title="MUST">MUST</em>)。
            <!--This event handler, of type <code><a href="#event-midiaccess-connect">MIDIConnectionEvent</a></code>,
            <em class="rfc2119" title="MUST">MUST</em> be supported by all objects implementing the
            <code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code> interface.-->
          </p>
          <p id="event-midiaccess-connect">
              ユーザーエージェントは、これまで有効でなかったMIDIポートが有効になった時にはいつでも、次のステップを実行しなくてはなりません(<em class="rfc2119" title="SHOULD">SHOULD</em>)：
              <!--Whenever a previously unavailable MIDI port becomes available for use, the user agent <em class="rfc2119" title="SHOULD">SHOULD</em> run the following steps:--></p>
          <ol>
            <li>新たに有効になったポートに対応する<code><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></code>を<code>port</code>とします。</li>
            <li><code><a href="#idl-def-MIDIConnectionEvent" class="idlType"><code>MIDIConnectionEvent</code></a></code>型の<code>event</code>を新たに作成し、<code>port</code>をport属性にセットします。</li>
            <li><code>event</code>をイベントオブジェクトとして<code>MIDIAccess</code>に<code><a href="#event-midiaccess-connect">connect</a></code>イベントを発行します。</li>
          </ol>
          <!--<ol>
            <li>Let <code>port</code> be the <code><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></code> corresponding to the newly-available port.</li>
            <li>Let <code>event</code> be a newly constructed <code><a href="#idl-def-MIDIConnectionEvent" class="idlType"><code>MIDIConnectionEvent</code></a></code>, with the <code>port</code> attribute set to the port.</li>
            <li>Fire an event named <code><a href="#event-midiaccess-connect">connect</a></code>at the <code>MIDIAccess</code>, using the <code>event</code> as the event object.</li>
          </ol>-->
        </dd><dt id="widl-MIDIAccess-ondisconnect"><code>ondisconnect</code> <span class="idlAttrType">EventHandler</span> 型</dt><dd>
          <p>
            これまで有効だったポートが切断された時に呼ばれるハンドラーです。
            <!--The handler called when a previously-available port is disconnected.--></p>
          <p>
            このイベントハンドラーは<code><a href="#event-midiacces-disconnect">MIDIConnectionEvent</a></code>型に対応し、<code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code>インターフェースを実装する全てのオブジェクトでサポートされなくてはなりません(<em class="rfc2119" title="MUST">MUST</em>)。
            <!--This event handler, of type <code><a href="#event-midiaccess-disconnect">MIDIConnectionEvent</a></code>,
            <em class="rfc2119" title="MUST">MUST</em> be supported by all objects implementing the
            <code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code> interface.--></p>
          <p id="event-midiaccess-disconnect">
            ユーザーエージェントは、これまで有効だったMIDIポートが有効でなくなった時にはいつでも、次のステップを実行しなくてはなりません(<em class="rfc2119" title="SHOULD">SHOULD</em>)：
            <!--Whenever a previously available MIDI port becomes unavailable for use, the user agent <em class="rfc2119" title="SHOULD">SHOULD</em> run the following steps:--></p>
          <ol>
            <li>新たに有効<span class="annotate">(訳注：無効)</span>になった<code><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></code>を<code>port</code>とします。
            <li><code><a href="#idl-def-MIDIConnectionEvent" class="idlType"><code>MIDIConnectionEvent</code></a></code>型の<code>event</code>を新たに作成し、<code>port</code>をport属性にセットします。</li>
            <li><code>event</code>をイベントオブジェクトとして<code>MIDIAccess</code>に<code><a href="#event-midiaccess-disconnect">disconnect</a></code>イベントを発行します。</li>
          </ol>
          <!--<ol>
            <li>Let <code>port</code> be the <code><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></code> corresponding to the newly-available port.</li>
            <li>Let <code>event</code> be a newly constructed <code><a href="#idl-def-MIDIConnectionEvent" class="idlType"><code>MIDIConnectionEvent</code></a></code>, with the <code>port</code> attribute set to the port.</li>
            <li>Fire an event named <code><a href="#event-midiaccess-disconnect">disconnect</a></code>at the <code>MIDIAccess</code>, using the <code>event</code> as the event object.</li>
          </ol>-->
        </dd><dt id="widl-MIDIAccess-outputs"><code>outputs</code> <span class="idlAttrType"><a href="#dfn-midioutputmap" class="internalDFN">MIDIOutputMap</a></span>, readonly 型  </dt><dd>
          システムで使用可能なMIDI出力ポートです。
          <!--The MIDI output ports available to the system.--></dd>
          <dt id="widl-MIDIAccess-sysexEnabled"><code>sysexEnabled</code> <span class="idlAttrType">boolean</span>, readonly 型  </dt><dd>
            この属性は、このMIDIAccess上でシステムエクスクルーシブのサポートが有効かどうかを示します。
            <!--This attribute informs the user whether system exclusive support is enabled on this MIDIAccess.--></dd></dl></section>
    </section>

    <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midiport-interface">
      <!--OddPage--><h2 id="MIDIPort" aria-level="1" role="heading"><span class="secno">6. </span><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a> インターフェース <button onclick="OpenOriginal('midiport-interface')">原文</button></h2>

      <p>
        これはMIDI入力または出力ポートを表すインターフェースです。
        <!--This interface represents a MIDI input or output port.--></p>

      <pre class="idl"><span class="idlEnum" id="idl-def-MIDIPortType">enum <span class="idlEnumID">MIDIPortType</span> {
    "<a href="#idl-def-MIDIPortType.input" class="idlEnumItem">input</a>",
    "<a href="#idl-def-MIDIPortType.output" class="idlEnumItem">output</a>"
};</span></pre><table class="simple"><tbody><tr><th colspan="2">Enumeration description</th></tr><tr><td><code id="idl-def-MIDIPortType.input">input</code></td><td>
          もしMIDIPortが入力ポートの場合、typeメンバーはこの値でなくてはなりません<em class="rfc2119" title="MUST">MUST</em>。
          <!--If a MIDIPort is an input port, the type member <em class="rfc2119" title="MUST">MUST</em> be this value.-->
        </td></tr><tr><td><code id="idl-def-MIDIPortType.output">output</code></td><td>
          もしMIDIPortが出力ポートの場合、typeメンバーはこの値でなくてはなりません<em class="rfc2119" title="MUST">MUST</em>。
          <!--If a MIDIPort is an output port, the type member <em class="rfc2119" title="MUST">MUST</em> be this value.-->
        </td></tr></tbody></table>

      <pre class="idl"><span class="idlInterface" id="idl-def-MIDIPort">interface <span class="idlInterfaceID">MIDIPort</span> : <span class="idlSuperclass">EventTarget</span> {
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType">DOMString</span>    <span class="idlAttrName"><a href="#widl-MIDIPort-id">id</a></span>;</span>
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType">DOMString?</span>   <span class="idlAttrName"><a href="#widl-MIDIPort-manufacturer">manufacturer</a></span>;</span>
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType">DOMString?</span>   <span class="idlAttrName"><a href="#widl-MIDIPort-name">name</a></span>;</span>
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType"><a href="#idl-def-MIDIPortType" class="idlType"><code>MIDIPortType</code></a></span> <span class="idlAttrName"><a href="#widl-MIDIPort-type">type</a></span>;</span>
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType">DOMString?</span>   <span class="idlAttrName"><a href="#widl-MIDIPort-version">version</a></span>;</span>
<span class="idlAttribute">                attribute <span class="idlAttrType">EventHandler</span> <span class="idlAttrName"><a href="#widl-MIDIPort-ondisconnect">ondisconnect</a></span>;</span>
};</span></pre><section id="attributes-3"><h3 aria-level="2" role="heading" id="h3_attributes-3"><span class="secno">6.1 </span>属性 <button onclick="OpenOriginal('attributes-3')">原文</button></h3>
<dl class="attributes"><dt id="widl-MIDIPort-id"><code>id</code> <span class="idlAttrType">DOMString</span>, readonly 型  </dt><dd>
          <p>
            ポートのユニークIDです。
            開発者はこれを、ユーザーがアプリケーション内で選択したポートを記憶しておくために使用できます。
            ユーザーエージェントは<code>id</code>がそのポートだけのユニークなものである事を保証しなくてはなりません(<em class="rfc2119" title="MUST">MUST</em>)。
            ユーザーエージェントはそのidがアプリケーションのインスタンスをまたいで、例えば、システムがリブートした時、デバイスがシステムから取り外された時にも維持される事を保証しなくてはなりません(<em class="rfc2119" title="SHOULD">SHOULD</em>)。
            アプリケーションはMIDI設定を再現するため、これらのidをローカルにキャッシュしようとするかも知れません。
            システムによっては、完全に永続的なユニーク性を持つ識別手段をサポートしていないかも知れず、そのような場合、別のインターフェースが接続されたりシステムから切断された時に識別を維持し続けるのは難易度が高くなるでしょう (これによって要求されたポートのインデックスがずれるかも知れません)。
            システムはMIDI APIのインスタンスをまたいだポートのマッチングに最善の方法を取る事が期待されます： 
            例えば、ポートインターフェースの製造者名、名前、インデックスをid内に保存し、名前が一致するものを探す事もできます。
            アプリケーションはMIDIPortのidの比較を品質のテストのために使用するかも知れません。
            <!--A unique ID of the port. This can be used by developers to 
            remember ports the user has chosen for their application. The 
            User Agent <em class="rfc2119" title="MUST">MUST</em> ensure that the <code>id</code> 
            is unique to only that port.  The User Agent <em class="rfc2119" title="SHOULD">SHOULD</em> ensure that 
            the id is maintained across instances of the 
            application - e.g., when the system is rebooted - and when a 
            device is removed from the system.  Applications may want to 
            cache these ids locally to re-create a MIDI setup. 
            Some systems may not support completely unique persistent 
            identifiers; in such cases, it will be more challenging to 
            maintain identifiers when another interface is added or removed 
            from the system.  (This might throw off the index of the 
            requested port.)  It is expected that the system will do the 
            best it can to match a port across instances of the MIDI API: 
            for example, storing the port interface manufacturer, name and 
            index in the id, and attempting to find any ports with 
            that name to consider as a match. Applications may use the 
            comparison of id of MIDIPorts to test for equality.--></p>
        </dd><dt id="widl-MIDIPort-manufacturer"><code>manufacturer</code> <span class="idlAttrType">DOMString</span>, readonly   , nullable 型</dt><dd>
          <p>
            ポートの製造者名です。
            <!--The manufacturer of the port.--></p>
        </dd><dt id="widl-MIDIPort-name"><code>name</code> <span class="idlAttrType">DOMString</span>, readonly   , nullable 型</dt><dd>
          <p>
            ポートのシステム名です。
            <!--The system name of the port.--></p>
        </dd><dt id="widl-MIDIPort-ondisconnect"><code>ondisconnect</code> <span class="idlAttrType">EventHandler</span> 型           </dt><dd>
          <p>
            これまで使用可能だったポートが切断された時に呼び出されるハンドラーです。
            <!--The handler called when a previously-available port is disconnected.--></p>
          <p>
            このイベントハンドラーは<code><a href="#event-midiport-disconnect">disconnect</a></code>型に対応し、<code><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></code>インターフェースを実装する全てのオブジェクトでサポートされなくてはなりません(<em class="rfc2119" title="MUST">MUST</em>)。
            <!--This event handler, of type <code><a href="#event-midiport-disconnect">disconnect</a></code>,
            <em class="rfc2119" title="MUST">MUST</em> be supported by all objects implementing
            <code><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></code> interface.-->
          </p>
        </dd><dt id="widl-MIDIPort-type"><code>type</code> <span class="idlAttrType"><a href="#idl-def-MIDIPortType" class="idlType"><code>MIDIPortType</code></a></span>, readonly 型  </dt><dd>
          <p>
            そのポートが入力ポートか出力ポートかを区別する識別子です。
            <code><a href="#idl-def-MIDIOutput" class="idlType"><code>MIDIOutput</code></a></code>の場合、
            これは<code>"output"</code>にならなくてはなりません(<em class="rfc2119" title="MUST">MUST</em>)。
            <code><a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a></code>の場合、
            これは<code>"input"</code>にならなくてはなりません(<em class="rfc2119" title="MUST">MUST</em>)。
            <!--A descriptor property to distinguish whether the port is an
            input or an output port.
            For <code><a href="#idl-def-MIDIOutput" class="idlType"><code>MIDIOutput</code></a></code>,
            this <em class="rfc2119" title="MUST">MUST</em> be <code>"output"</code>.
            For <code><a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a></code>,
            this <em class="rfc2119" title="MUST">MUST</em> be <code>"input"</code>.-->
          </p>
        </dd><dt id="widl-MIDIPort-version"><code>version</code> <span class="idlAttrType">DOMString</span>, readonly   , nullable 型</dt><dd>
          <p>
            ポートのバージョンです。
            <!--The version of the port.--></p>
        </dd></dl></section>

      <p id="event-midiport-disconnect">
          <code><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></code>に対応するMIDIポートが使用できなくなった時はいつでも、ユーザーエージェントは次のステップを実行しなくてはなりません(<em class="rfc2119" title="SHOULD">SHOULD</em>)：
          <!--Whenever the MIDI port corresponding to the
          <code><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></code> becomes unavailable for use, the user agent <em class="rfc2119" title="SHOULD">SHOULD</em>
          run the following steps:-->
        </p>

        <ol>
          <li>
            <p>
              <code>port</code>を対象の<code><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></code>とします。
              <!--Let <code>port</code> be the <code><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></code>.-->
            </p>
          </li>

          <li>
            <p>
              <code><a href="#idl-def-MIDIConnectionEvent" class="idlType"><code>MIDIConnectionEvent</code></a></code>を新たに作成して<code>event</code>とし、<code>port</code>属性にportをセットします。
              <!--Let <code>event</code> be a newly constructed
              <code><a href="#idl-def-MIDIConnectionEvent" class="idlType"><code>MIDIConnectionEvent</code></a></code>, with the <code>port</code> 
              attribute set to the port.-->
            </p>
          </li>

          <li>
            <p>
              <code>event</code>をイベントオブジェクトとして<code><a href="#event-midiport-disconnect">disconnect</a></code>イベントを<code>port</code>に対して発行します。
              <!--Fire an event named <code><a href="#event-midiport-disconnect">disconnect</a></code>
              at the <code>port</code>, using the <code>event</code> as the event object.-->
            </p>
          </li>
        </ol>


      <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midiinput-interface">
        <h3 id="MIDIInput" aria-level="2" role="heading"><span class="secno">6.2 </span><a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a> インターフェース <button onclick="OpenOriginal('midiinput-interface')">原文</button></h3>
		
        <pre class="idl"><span class="idlInterface" id="idl-def-MIDIInput">interface <span class="idlInterfaceID">MIDIInput</span> : <span class="idlSuperclass"><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></span> {
<span class="idlAttribute">                attribute <span class="idlAttrType">EventHandler</span> <span class="idlAttrName"><a href="#widl-MIDIInput-onmidimessage">onmidimessage</a></span>;</span>
};</span></pre><section id="attributes-4"><h4 aria-level="3" role="heading" id="h4_attributes-4"><span class="secno">6.2.1 </span>属性 <button onclick="OpenOriginal('attributes-4')">原文</button></h4>
<dl class="attributes"><dt id="widl-MIDIInput-onmidimessage"><code>onmidimessage</code> <span class="idlAttrType">EventHandler</span> 型            </dt><dd>
            <p>
              このイベントハンドラーは<code><a href="#event-midiinput-message">MIDIMessage</a></code>型に対応し、<code><a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a></code>インターフェースを実装する全てのオブジェクトでサポートされなくてはなりません(<em class="rfc2119" title="MUST">MUST</em>)。
              <!--This event handler, of type <code><a href="#event-midiinput-message">MIDIMessage</a></code>,
              <em class="rfc2119" title="MUST">MUST</em> be supported by all objects implementing
              <code><a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a></code> interface.-->
            </p>
          </dd></dl></section>
        
      <p id="event-midiinput-message">
          <code><a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a></code>に対応するMIDIポートが1つ以上のMIDIメッセージを受信した際にはいつでも、ユーザーエージェントは以下のステップを実行しなくてはなりません(<em class="rfc2119" title="MUST">MUST</em>)：
          <!--Whenever the MIDI port corresponding to the
          <code><a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a></code> finishes receiving one or more MIDI messages, the user agent <em class="rfc2119" title="MUST">MUST</em>
          run the following steps:-->
        </p>

        <ol>
          <li>
            <p>
              <code>port</code>を対象の<a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a>とします。
              <!--Let <code>port</code> be the <code><a href="#idl-def-MIDIInput" class="idlType"><code>MIDIInput</code></a></code>.-->
            </p>
          </li>

          <li>
            <p>
              もし<code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code>がシステムエクスルーシブを許可されておらず、そのメッセージがシステムエクスクルーシブの場合はこの手順を中断します。
              <!--If the <code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code> did not enable system exclusive access, and the message is a system exclusive message, abort this process.-->
            </p>
          </li>

          <li>
            <p>
              新たに<code><a href="#idl-def-MIDIMessageEvent" class="idlType"><code>MIDIMessageEvent</code></a></code>を作成して<code>event</code>とし、<code>timestamp</code>属性はシステムがメッセージを受信した時刻、<code>data</code>属性は単一のMIDIメッセージを表すUint8ArrayのMIDIデータのバイト配列に設定します。
              <!--Let <code>event</code> be a newly constructed
              <code><a href="#idl-def-MIDIMessageEvent" class="idlType"><code>MIDIMessageEvent</code></a></code>, with the <code>timestamp</code>
              attribute set to the time the message was received by the system, and
              with the <code>data</code> attribute set to a Uint8Array of MIDI data
              bytes representing a single MIDI message.-->
            </p>
          </li>

          <li>
            <p>
              <code>event</code>をイベントオブジェクトとして、<code>port</code>に対して<code><a href="#event-midiinput-message">midimessage</a></code>イベントを発行します。
              <!--Fire an event named <code><a href="#event-midiinput-message">midimessage</a></code>
              at the <code>port</code>, using the <code>event</code> as the event object.-->
            </p>
          </li>
        </ol>
        <p>
          特に注意を要するのは、システムエクスルーシブ・メッセージの途中にMIDIシステム・リアルタイム・メッセージが発生した時で、その場合、システム・リアルタイム・メッセージは発生の度にディスパッチされ、システムエクスルーシブ・メッセージは完結するまでバッファされます(完結後ディスパッチされます)。
          <!--It is specifically noted that MIDI System Real-Time Messages may actually occur in the middle of system exclusive messages in the input stream; in this case, the System Real-Time messages will be dispatched as they occur, while the system exclusive message will be buffered until it is complete (and then dispatched).-->
        </p>

      </section>

      <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midioutput-interface">
        <h3 id="MIDIOutput" aria-level="2" role="heading"><span class="secno">6.3 </span><a href="#idl-def-MIDIOutput" class="idlType"><code>MIDIOutput</code></a> インターフェース <button onclick="OpenOriginal('midioutput-interface')">原文</button></h3>

        <pre class="idl"><span class="idlInterface" id="idl-def-MIDIOutput">interface <span class="idlInterfaceID">MIDIOutput</span> : <span class="idlSuperclass"><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></span> {
<span class="idlMethod">    <span class="idlMethType">void</span> <span class="idlMethName"><a href="#widl-MIDIOutput-send-void-sequence-octet--data-double-timestamp">send</a></span> (<span class="idlParam"><span class="idlParamType">sequence&lt;<a href="#OctetDfn" class="internalDFN">octet</a>&gt;</span> <span class="idlParamName">data</span></span>, <span class="idlParam">optional <span class="idlParamType">double</span> <span class="idlParamName">timestamp</span></span>);</span>
};</span></pre><section id="methods-3"><h4 aria-level="3" role="heading" id="h4_methods-3"><span class="secno">6.3.1 </span>メソッド <button onclick="OpenOriginal('methods-3')">原文</button></h4>
<dl class="methods"><dt id="widl-MIDIOutput-send-void-sequence-octet--data-double-timestamp"><code>send</code></dt><dd>
            <p>
              対応するMIDIポートのキューに送信するメッセージを登録します。
              実装は(もし必要なら)シーケンスの各メンバーを強制的にunsigned 8ビット整数にします。
              Uint8Arrayでなくシーケンスを使う事で、開発者は<code>output.send( new Uint8Array( [ 0x90, 0x45, 0x7f ] ) );</code>のようにUint8Arrayを作る事なく、<code>output.send( [ 0x90, 0x45, 0x7f ] );</code>のような便利な書き方ができます (例えばスタンダードMIDIファイルを読んだり、SysExメッセージを送信するような)大きなMIDIデータを使うシナリオではUint8Arrayを使う方が効率的ですが)。
              <!--Enqueues the message to be sent to the corresponding MIDI port.  The underlying implementation will (if necessary) coerce each member of the sequence to an unsigned 8-bit integer.  The use of sequence rather than a Uint8Array enables developers to use the convenience of <code>output.send( [ 0x90, 0x45, 0x7f ] );</code> rather than having to create a Uint8Array, e.g. <code>output.send( new Uint8Array( [ 0x90, 0x45, 0x7f ] ) );</code> - while still enabling use of Uint8Arrays for efficiency in large MIDI data scenarios (e.g. reading Standard MIDI Files and sending sysex messages).-->
            </p>
            <p>
              dataは1つ以上の有効な完結したMIDIメッセージを含む事ができます。下層のシステムがサポートしていない可能性があるのと同様、data中にランニングステータスは使用できません。
              <!--The data contains one or more valid, complete MIDI messages.  Running status is not allowed in the data, as underlying systems may not support it.-->
            </p>
            <p>
              もしポートが切断された場合、<code>InvalidStateError</code>例外が発生します。
              <!--If the port is disconnected, throw an <code>InvalidStateError</code> exception.-->
            </p>
            <p>
              もし<var>data</var>が正常なシーケンスでない場合、または有効なMIDIメッセージを含んでいない場合、<code>TypeError</code>例外が発生します。
              <!--If <var>data</var> is not a valid sequence or does not contain a valid MIDI message, throw a <code>TypeError</code> exception.-->
            </p>
            <p>
              もし<var>data</var>がシステムエクスクルーシブ・メッセージで、<code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code>がシステムエクスクルーシブへのアクセスが許可されていない場合、<code>InvalidAccessError</code>例外が発生します。
              <!--If <var>data</var> is a system exclusive message, and the <code><a href="#idl-def-MIDIAccess" class="idlType"><code>MIDIAccess</code></a></code> did not enable system exclusive access, throw an <code>InvalidAccessError</code> exception.-->
            </p>
            
          <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">data</td><td class="prmType"><code>sequence&lt;<a href="#OctetDfn" class="internalDFN">octet</a>&gt;</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc">
                キューに登録されるデータ。シーケンスの各エントリは1バイトのデータを表します。
                <!--The data to be enqueued, with each sequence entry representing a single byte of data.  -->
              </td></tr><tr><td class="prmName">timestamp</td><td class="prmType"><code>double</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptTrue"><span role="img" aria-label="True">✔</span></td><td class="prmDesc">
                ポートにデータの送信を開始する時刻です
                (<a href="#DomHighResTimeStampDfn">DOMHighResTimeStamp</a>、ドキュメントのナビゲーション開始からの相対時間でミリ秒で表されます)。
                もし<code>timestamp</code>が存在しない場合、または0(あるいは既に過ぎた時刻)を指定された場合、データは即時に送信されます。
                <!--The time at which to begin sending the data to the port (as a <a href="#DomHighResTimeStampDfn">DOMHighResTimeStamp</a> - a number of milliseconds measured relative to the navigation start of the document).  If <code>timestamp</code> is not present or is set to zero (or another time in the past), the data is to be sent as soon as possible.-->
              </td></tr></tbody></table><div><em>戻り値： </em><code>void</code></div></dd></dl></section>
      </section>
    </section>

    <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midimessageevent-interface">
      <!--OddPage--><h2 id="MIDIMessageEvent" aria-level="1" role="heading"><span class="secno">7. </span><a href="#idl-def-MIDIMessageEvent" class="idlType"><code>MIDIMessageEvent</code></a> インターフェース <button onclick="OpenOriginal('midimessageevent-interface')">原文</button></h2>
      <p>
        MIDIメッセージを受信した時、このインターフェースを実装したイベントオブジェクトが、MIDIInputのonmidimessageハンドラーに渡されます。
        <!--An event object implementing this interface is passed to a MIDIInput's onmidimessage handler when MIDI messages are received.--></p>
      <pre class="idl"><span class="idlInterface" id="idl-def-MIDIMessageEvent">[<span class="extAttr">Constructor(DOMString type, optional MIDIMessageEventInit eventInitDict)</span>]
interface <span class="idlInterfaceID">MIDIMessageEvent</span> : <span class="idlSuperclass"><a href="#dfn-event" class="internalDFN">Event</a></span> {
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType">double</span>     <span class="idlAttrName"><a href="#widl-MIDIMessageEvent-receivedTime">receivedTime</a></span>;</span>
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType"><a href="#dfn-uint8array" class="internalDFN">Uint8Array</a></span> <span class="idlAttrName"><a href="#widl-MIDIMessageEvent-data">data</a></span>;</span>
};</span></pre><section id="attributes-5"><h3 aria-level="2" role="heading" id="h3_attributes-5"><span class="secno">7.1 </span>属性 <button onclick="OpenOriginal('attributes-5')">原文</button></h3>
<dl class="attributes"><dt id="widl-MIDIMessageEvent-data"><code>data</code> <span class="idlAttrType"><a href="#dfn-uint8array" class="internalDFN">Uint8Array</a></span>, readonly 型  </dt><dd>
          <p>
            1つのMIDIメッセージのデータのバイト列を含むUint8Arrayです。
            <!--A Uint8Array containing the MIDI data bytes of a single MIDI message.--></p>
        </dd><dt id="widl-MIDIMessageEvent-receivedTime"><code>receivedTime</code> <span class="idlAttrType">double</span>, readonly 型  </dt><dd>
          <p>
            イベントがいつ発生したのかを示す<code>DOMHighResTimeStamp</code>です。
            <!--A <code>DOMHighResTimeStamp</code> specifying when the event occurred.--></p>
          <div class="note"><div class="note-title" aria-level="3" role="heading" id="h_note_1"><span>注</span></div>
          <p class="">
            DOM4<a class="externalDFN">イベント</a>オブジェクトは現在時刻を表すtimeStampメンバーを持っていますが、
            その精度は低く、(DOMTimeStampは整数値でミリ秒を表します)、
            また異なる時刻0の原点を取ります(DOMTimeStampは1970年1月1日 00:00:00 UTCからのミリ秒)。
            そのため、MIDIアプリケーションで使用するには適切ではありません。
            <!--The DOM4 <a class="externalDFN">Event</a> object has a timeStamp member in the event object that will be filled out with the current time, but that it is lower precision (DOMTimeStamp is defined as an integer number of milliseconds), has a different zero reference (DOMTimeSTamp is the number of milliseconds that has passed since 00:00:00 UTC on 1 January 1970), and therefore is less suitable for MIDI applications.--></p></div>
        </dd></dl></section>
      <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midimessageeventinit-interface">
        <h3 id="MIDIMessageEventInit" aria-level="2" role="heading"><span class="secno">7.2 </span><a href="#idl-def-MIDIMessageEventInit" class="idlType"><code>MIDIMessageEventInit</code></a> インターフェース <button onclick="OpenOriginal('midimessageeventinit-interface')">原文</button></h3>
        <pre class="idl"><span class="idlDictionary" id="idl-def-MIDIMessageEventInit">dictionary <span class="idlDictionaryID">MIDIMessageEventInit</span> {
<span class="idlMember">    <span class="idlMemberType">double</span>     <span class="idlMemberName"><a href="#widl-MIDIMessageEventInit-receivedTime">receivedTime</a></span>;</span>
<span class="idlMember">    <span class="idlMemberType"><a href="#dfn-uint8array" class="internalDFN">Uint8Array</a></span> <span class="idlMemberName"><a href="#widl-MIDIMessageEventInit-data">data</a></span>;</span>
};</span></pre><section id="dictionary-midimessageeventinit-members"><h4 aria-level="3" role="heading" id="h4_dictionary-midimessageeventinit-members"><span class="secno">7.2.1 </span>Dictionary <a class="idlType" href="#idl-def-MIDIMessageEventInit"><code>MIDIMessageEventInit</code></a> Members</h4>
<dl class="dictionary-members"><dt id="widl-MIDIMessageEventInit-data"><code>data</code> <span class="idlMemberType"><a href="#dfn-uint8array" class="internalDFN">Uint8Array</a></span> 型</dt><dd>
            <p>
              1つのMIDIメッセージのデータのバイト列を含むUint8Arrayです。
              <!--A Uint8Array containing the MIDI data bytes of a single MIDI message.--></p>
          </dd><dt id="widl-MIDIMessageEventInit-receivedTime"><code>receivedTime</code> <span class="idlMemberType">double</span> 型</dt><dd>
            <p>
              イベントがいつ発生したのかを示す<code>DOMHighResTimeStamp</code>です。
              <!--A <code>DOMHighResTimeStamp</code> specifying when the event occurred.--></p>
          </dd></dl></section>
      </section>
    </section>

    <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midiconnectionevent-interface">
      <!--OddPage--><h2 id="MIDIConnectionEvent" aria-level="1" role="heading"><span class="secno">8. </span><a href="#idl-def-MIDIConnectionEvent" class="idlType"><code>MIDIConnectionEvent</code></a> インターフェース <button onclick="OpenOriginal('midiconnectionevent-interface')">原文</button></h2>
      <p>
        それまで有効だったポートが有効でなくなった時(例えばMIDIインターフェースが切断された時)、このインターフェースを実装したイベントオブジェクトがMIDIAccess、および(もしあれば)そのポートを参照していたMIDIPortのondisconnectハンドラーに渡されます。
        また、新しいポートが有効になった時(例えば、それまで接続されていなかったMIDIインターフェースがコンピュータに接続された時)、MIDIAccessのonconnectハンドラーにも渡されます。
        <!--An event object implementing this interface is passed to a MIDIAccess' ondisconnect handler, and (if present) to any MIDIPorts referencing the port when a previously-available port becomes unavailable (for example, when a MIDI interface is disconnected), and is also passed to a MIDIAccess' onconnect handler when a new port becomes available (for example, when a MIDI interface that has been disconnected is plugged in to the computer).--></p>
      <p>
        下層システムで、通知イベントがサポートされない、あるいは新しいデバイスの検出に長い遅延が必要な場合、
        MIDIConnectionEventは<b>ディスパッチされなくても構いません</b>。
        <!--Connection events <b>are not required to be dispatched</b>, as some underlying systems do not support them as notification events; or, such systems may have long time delays as they poll for new devices infrequently.--></p>
      <pre class="idl"><span class="idlInterface" id="idl-def-MIDIConnectionEvent">[<span class="extAttr">Constructor(DOMString type, optional MIDIConnectionEventInit eventInitDict)</span>]
interface <span class="idlInterfaceID">MIDIConnectionEvent</span> : <span class="idlSuperclass"><a href="#dfn-event" class="internalDFN">Event</a></span> {
<span class="idlAttribute">    readonly    attribute <span class="idlAttrType"><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></span> <span class="idlAttrName"><a href="#widl-MIDIConnectionEvent-port">port</a></span>;</span>
};</span></pre><section id="attributes-6"><h3 aria-level="2" role="heading" id="h3_attributes-6"><span class="secno">8.1 </span>属性 <button onclick="OpenOriginal('attributes-6')">原文</button></h3>
<dl class="attributes"><dt id="widl-MIDIConnectionEvent-port"><code>port</code> <span class="idlAttrType"><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></span>, readonly 型  </dt><dd>
          <p>
            接続または切断されたポートです。
            <!--The port that has been connected or disconnected.--></p>
        </dd></dl></section>

      <section typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="midiconnectioneventinit-interface">
        <h3 id="MIDIConnectionEventInit" aria-level="2" role="heading"><span class="secno">8.2 </span><a href="#idl-def-MIDIConnectionEventInit" class="idlType"><code>MIDIConnectionEventInit</code></a> インターフェース <button onclick="OpenOriginal('midiconnectioneventinit-interface')">原文</button></h3>
        <pre class="idl"><span class="idlDictionary" id="idl-def-MIDIConnectionEventInit">dictionary <span class="idlDictionaryID">MIDIConnectionEventInit</span> {
<span class="idlMember">    <span class="idlMemberType"><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></span> <span class="idlMemberName"><a href="#widl-MIDIConnectionEventInit-port">port</a></span>;</span>
};</span></pre><section id="dictionary-midiconnectioneventinit-members"><h4 aria-level="3" role="heading" id="h4_dictionary-midiconnectioneventinit-members"><span class="secno">8.2.1 </span>ディクショナリ <a class="idlType" href="#idl-def-MIDIConnectionEventInit"><code>MIDIConnectionEventInit</code></a> メンバー <button onclick="OpenOriginal('dictionary-midiconnectioneventinit-members')">原文</button></h4>
<dl class="dictionary-members"><dt id="widl-MIDIConnectionEventInit-port"><code>port</code> <span class="idlMemberType"><a href="#idl-def-MIDIPort" class="idlType"><code>MIDIPort</code></a></span> 型</dt><dd>
            <p>
              接続または切断されたポートです。
              <!--The port that has been connected or disconnected.--></p>
          </dd></dl></section>
      </section>
    </section>

    <section class="informative" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter" id="examples-of-web-midi-api-usage-in-javascript">
      <!--OddPage-->
<h2 id="examples" aria-level="1" role="heading"><span class="secno">9. </span>JavaScriptでのWeb MIDI API 使用例
    <!--Examples of Web MIDI API Usage in JavaScript--> <button onclick="OpenOriginal('examples-of-web-midi-api-usage-in-javascript')">原文</button></h2>
  <p><em>このセクションは非基準情報です。
    <!--This section is non-normative.--></em></p>
  <p>
    JavaScriptでの一般的なMIDIの使い方の例を次に示します。<span class="annotate">(訳注：これらのコード中、midiAccessからMIDIポートを得る手順に仕様との不一致が見られ、まだ誤りが含まれていると思われます)</span>
    <!--The following are some examples of common MIDI usage in JavaScript.--></p>

      <section id="getting-access-to-the-midi-system">
        <h3 aria-level="2" role="heading" id="h3_getting-access-to-the-midi-system"><span class="secno">9.1 </span>MIDIシステムへのアクセスの取得
      <!--Getting Access to the MIDI System--> <button onclick="OpenOriginal('getting-access-to-the-midi-system')">原文</button></h3>
        <p>
          このサンプルはMIDIシステムへのアクセス要求の方法を示しています。
          <!--This example shows how to request access to the MIDI system.--></p>
          <pre class="code es-code">var midi = null;  // グローバルなMIDIAccessオブジェクト

function onMIDISuccess( midiAccess ) {
  console.log( "MIDI ready!" );
  midi = midiAccess;  // グローバルに保存します (実際の使用ではおそらくオブジェクトのインスタンスに保持します)
}

function onMIDIFailure(msg) {
  console.log( "Failed to get MIDI access - " + msg );
}

navigator.requestMIDIAccess().then( onMIDISuccess, onMIDIFailure );</pre>
      </section>

      <section id="requesting-access-to-the-midi-system-with-system-exclusive-support">
        <h3 aria-level="2" role="heading" id="h3_requesting-access-to-the-midi-system-with-system-exclusive-support"><span class="secno">9.2 </span>システムエクスクルーシブ・サポートを伴ったMIDIシステムへのアクセスの取得<!--Requesting Access to the MIDI System with System Exclusive Support--> <button onclick="OpenOriginal('requesting-access-to-the-midi-system-with-system-exclusive-support')">原文</button></h3>
        <p>
          このサンプルはシステムエクスクルーシブの送受信を含めたMIDIシステムへのアクセス要求の方法を示しています。
          <!--This example shows how to request access to the MIDI system, including the ability to send and receive system exclusive messages.--></p>
          <pre class="code es-code">var midi = null;  // グローバルMIDIAccessオブジェクト

function onMIDISuccess( midiAccess ) {
  console.log( "MIDI ready!" );
  midi = midiAccess;  // グローバルに保存します (実際の使用ではおそらくオブジェクトのインスタンスに保持します)
}

function onMIDIFailure(msg) {
  console.log( "Failed to get MIDI access - " + msg );
}

navigator.requestMIDIAccess( { sysex: true } ).then( onMIDISuccess, onMIDIFailure );</pre>
      </section>

      <section id="listing-inputs-and-outputs">
        <h3 aria-level="2" role="heading" id="h3_listing-inputs-and-outputs"><span class="secno">9.3 </span>入力および出力のリスティング
          <!--Listing Inputs and Outputs--> <button onclick="OpenOriginal('listing-inputs-and-outputs')">原文</button></h3>
        <p>
          このサンプルは入力、出力ポートのリストを取得し、その情報をconsole logに出力します。
          <!--This example gets the list of the input and output ports and prints their information to the console log.-->
          </p><pre class="code es-code">function listInputsAndOutputs( midiAccess ) {
  for (var input in midiAccess.inputs) {
    console.log( "Input port [type:'" + input.type + "'] id:'" + input.id +
      "' manufacturer:'" + input.manufacturer + "' name:'" + input.name +
      "' version:'" + input.version + "'" );
  }

  for (var output in midiAccess.outputs) {
    console.log( "Output port [type:'" + output.type + "'] id:'" + output.id +
      "' manufacturer:'" + output.manufacturer + "' name:'" + output.name +
      "' version:'" + output.version + "'" );
  }
}</pre>
      </section>

      <section id="handling-midi-input">
        <h3 aria-level="2" role="heading" id="h3_handling-midi-input"><span class="secno">9.4 </span>MIDI入力の扱い方
          <!--Handling MIDI Input--> <button onclick="OpenOriginal('handling-midi-input')">原文</button></h3>
        <p>
          このサンプルは入力の任意の1つのポートで受信したメッセージをconsole.logに出力します。
          <!--This example prints incoming MIDI messages on a single arbitrary input port to the console log.--></p>
        <pre class="code es-code">function onMIDIMessage( event ) {
  var str = "MIDI message received at timestamp " + event.timestamp + "[" + event.data.length + " bytes]: ";
  for (var i=0; i&lt;event.data.length; i++) {
    str += "0x" + event.data[i].toString(16) + " ";
  }
  console.log( str );
}

function startLoggingMIDIInput( midiAccess, indexOfPort ) {
  midiAccess.inputs.entries[indexOfPort].onmidimessage = onMIDIMessage;
}</pre>
      </section>

      <section id="sending-midi-messages-to-an-output-device">
        <h3 aria-level="2" role="heading" id="h3_sending-midi-messages-to-an-output-device"><span class="secno">9.5 </span> 出力デバイスへのMIDIメッセージの送信
          <!--Sending MIDI Messages to an Output Device--> <button onclick="OpenOriginal('sending-midi-messages-to-an-output-device')">原文</button></h3>
        <p>
          <p>このサンプルは中央Cのノートオン・メッセージをMIDIチャンネル1(MIDIチャンネルのインデックスは0から始まりますが一般的には1～16と表されます)に送信し、対応するノートオフメッセージを1秒後に送るようにキューに登録します。
          <!--This example sends a middle C note on message immediately on MIDI channel 1 (MIDI channels are 0-indexed, but generally referred to as channels 1-16), and queues a corresponding note off message for 1 second later.--></p>
        <pre class="code es-code">function sendMiddleC( midiAccess, indexOfPort ) {
  var noteOnMessage = [0x90, 60, 0x7f];    // note on, middle C, full velocity
  var output = midiAccess.outputs.entries[indexOfPort];
  output.send( noteOnMessage );  //omitting the timestamp means send immediately.
  output.send( [0x80, 60, 0x40], window.performance.now() + 1000.0 ); // Inlined array creation- note off, middle C,  
                                                                      // release velocity = 64, timestamp = now + 1000ms.
}</pre>
      </section>

      <section id="a-simple-loopback">
        <h3 aria-level="2" role="heading" id="h3_a-simple-loopback"><span class="secno">9.6 </span>単純なループバック
          <!--A Simple Loopback--> <button onclick="OpenOriginal('a-simple-loopback')">原文</button></h3>
        <p>
          このサンプルは、システムエクスクルーシブ・メッセージを含め、1番目の入力ポートで受信したメッセージを1番目の出力ポートに出力します。
          <!--This example loops all input messages on the first input port to the first output port - including system exclusive messages.--></p>
        <pre class="code es-code">var midi = null;  // グローバル MIDIAccess オブジェクト
var output = null;

function echoMIDIMessage( event ) {
  if (output) {
    output.send( event.data, event.timestamp );
  }
}

function onMIDISuccess( midiAccess ) {
  console.log( "MIDI ready!" );
  try { 
    var input = midiAccess.inputs.entries[indexOfPort];
    input.onmidimessage = echoMIDIMessage;
    output = midiAccess.outputs.entries[indexOfPort];
  }
  catch (e) {
    console.error("Exception! Couldn't get i/o ports." + e );
  }
}

function onMIDIFailure(msg) {
  console.log( "Failed to get MIDI access - " + msg );
}

navigator.requestMIDIAccess().then( onMIDISuccess, onMIDIFailure );</pre>
      </section>

      <section id="a-simple-monophonic-sine-wave-midi-synthesizer">
        <h3 aria-level="2" role="heading" id="h3_a-simple-monophonic-sine-wave-midi-synthesizer"><span class="secno">9.7 </span>単純なモノフォニック・サイン波MIDIシンセサイザー
          <!--A Simple Monophonic Sine Wave MIDI Synthesizer--> <button onclick="OpenOriginal('a-simple-monophonic-sine-wave-midi-synthesizer')">原文</button></h3>
        <p>
          このサンプルは全ての使用可能な入力ポートで受信したノートメッセージで、<a href="#WebAudio" class="internalDFN">Web Audio API</a>を使ったモノフォニックのサイン波オシレーターのエンベロープと周波数を制御し、非常に単純なシンセサイザーを作っています。
          ノートオンとノートオフメッセージがサポートされていますが、サスティンペダル、ベロシティ、ピッチベンドなどはサポートされていません。
          このサンプルは<a href="http://webaudiodemos.appspot.com/monosynth/index.html">webaudiodemos.appspot.com</a>でも公開されています。
          <!--This example listens to all input messages from all available input ports, and uses note messages to drive the envelope and frequency on a monophonic sine wave oscillator, creating a very simple synthesizer, using the <a href="#WebAudio" class="internalDFN">Web Audio API</a>.  Note on and note off messages are supported, but sustain pedal, velocity and pitch bend are not.  This sample is also hosted on <a href="http://webaudiodemos.appspot.com/monosynth/index.html">webaudiodemos.appspot.com</a>.--></p>
        <pre class="code es-code">var context=null;   // the Web Audio "context" object
    var midiAccess=null;  // the MIDIAccess object.
    var oscillator=null;  // the single oscillator
    var envelope=null;    // the envelope for the single oscillator
    var attack=0.05;      // attack speed
    var release=0.05;   // release speed
    var portamento=0.05;  // portamento/glide speed
    var activeNotes = []; // the stack of actively-pressed keys

    window.addEventListener('load', function() {
      // patch up prefixes
      window.AudioContext=window.AudioContext||window.webkitAudioContext;

      context = new AudioContext();
      if (navigator.requestMIDIAccess)
        navigator.requestMIDIAccess().then( onMIDIInit, onMIDIReject );
      else
        alert("No MIDI support present in your browser.  You're gonna have a bad time.")

      // set up the basic oscillator chain, muted to begin with.
      oscillator = context.createOscillator();
      oscillator.frequency.setValueAtTime(110, 0);
      envelope = context.createGain();
      oscillator.connect(envelope);
      envelope.connect(context.destination);
      envelope.gain.value = 0.0;  // Mute the sound
      oscillator.start(0);  // Go ahead and start up the oscillator
    } );

    function onMIDIInit(midi) {
      midiAccess = midi;

      if (midiAccess.inputs.length === 0)
        alert("No MIDI input devices present.  You're gonna have a bad time.")
      else { // Hook the message handler for all MIDI inputs
        for (var input in inputs)
          input.onmidimessage = MIDIMessageEventHandler;
      }
    }

    function onMIDIReject(err) {
      alert("The MIDI system failed to start.  You're gonna have a bad time.");
    }

    function MIDIMessageEventHandler(event) {
      // Mask off the lower nibble (MIDI channel, which we don't care about)
      switch (event.data[0] &amp; 0xf0) {
        case 0x90:
          if (event.data[2]!=0) {  // if velocity != 0, this is a note-on message
            noteOn(event.data[1]);
            return;
          }
          // if velocity == 0, fall thru: it's a note-off.  MIDI's weird, y'all.
        case 0x80:
          noteOff(event.data[1]);
          return;
      }
    }

    function frequencyFromNoteNumber( note ) {
      return 440 * Math.pow(2,(note-69)/12);
    }

    function noteOn(noteNumber) {
      activeNotes.push( noteNumber );
      oscillator.frequency.cancelScheduledValues(0);
      oscillator.frequency.setTargetAtTime( frequencyFromNoteNumber(noteNumber), 0, portamento );
      envelope.gain.cancelScheduledValues(0);
      envelope.gain.setTargetAtTime(1.0, 0, attack);
    }

    function noteOff(noteNumber) {
      var position = activeNotes.indexOf(noteNumber);
      if (position!=-1) {
        activeNotes.splice(position,1);
      }
      if (activeNotes.length==0) {  // shut off the envelope
        envelope.gain.cancelScheduledValues(0);
        envelope.gain.setTargetAtTime(0.0, 0, release );
      } else {
        oscillator.frequency.cancelScheduledValues(0);
        oscillator.frequency.setTargetAtTime( frequencyFromNoteNumber(activeNotes[activeNotes.length-1]), 0, portamento );
      }
    }</pre>
      </section>

    </section>
    <section id="security-and-privacy-considerations-of-midi">
      <!--OddPage--><h2 aria-level="1" role="heading" id="h2_security-and-privacy-considerations-of-midi"><span class="secno">10. </span>MIDIのセキュリティとプライバシーに関する考察
      <!--Security and Privacy Considerations of MIDI--> <button onclick="OpenOriginal('security-and-privacy-considerations-of-midi')">原文</button></h2>
      <p>
        WebプラットフォームにWeb MIDI APIを加えるにあたって、2つの基本的なセキュリティとプライバシーに関する懸案事項があります：
        <!--There are two primary security and privacy concerns with adding the Web MIDI API to the web platform:-->
      </p>
      <ol>
        <li>
          ユーザーのMIDIインターフェースの列挙を可能にする事は潜在的にフィンガープリンティングのターゲットになります(特定のMIDIインターフェースの接続によってユーザーを一意に識別するという意味です)。
          この文脈で注意するべきは、MIDI<i>インターフェース</i>の列挙である事です。つまり、MIDIインターフェースに接続されている、例えば、個別のサンプラーやシンセサイザーは
          それらのデバイスがUSB(USB-MIDIデバイスは典型的に自身のMIDIインターフェースを持ち、列挙されます)接続でない限り、列挙されません。
          フィンガープリンティングの対象となるインターフェースはMIDI"ポート"と同義で(そこに接続されているデバイスではありません)、APIからMIDIインターフェースに対する個別のデバイスの名前、製造者、その内容の詳細は不明なid、が得られます。
          <!--Allowing the enumeration of the user's MIDI interfaces is a potential target for fingerprinting (that is, uniquely identifying a user by the specific MIDI interfaces they have connected).  Note that in this context, what can be enumerated is the MIDI <i>interfaces</i> - not, for example, an individual sampler or synthesizer plugged into a MIDI interface, as these would not be enumerated, unless those devices are connected to the host computer with USB (USB-MIDI devices typically have their own MIDI interface, and would be enumerated).  The interfaces that could be fingerprinted are equivalent to MIDI "ports", and for each device the API will expose the name of the device, manufacturer, and opaque identifier of the MIDI interface (but not any attached devices).-->
          <p>
            大量のMIDIデバイスが接続されているシステムはあまり多くありません。
            通常それらのシステムではUSBハブにUSB-MIDIで大量に接続するような事はせず、典型的にはハードウェアMIDIインターフェースを使用します。
            この場合、もちろんMIDI"デバイス"としてはハードウェアMIDIインターフェースだけが列挙され、一方そこに接続されているシンセサイザー、サンプラー、その他は列挙されません。
            少数のデバイスを接続した場合、ここに公開される情報の量は他のAPI、例えばゲームパッドAPIなどと同等です。
            大多数のシステムでは接続しているMIDIインターフェースの数は比較的少ないです。
            <!--Few systems will have significant numbers of MIDI devices attached; those systems that do will typically use hardware MIDI interfaces, not fanning out a dozen USB-MIDI connections through USB hubs.  In this case, of course, enumerating the MIDI “devices” will only see the hardware MIDI interface(s), not the synthesizers, samplers, etc. plugged into it on the other side.  Given the few number of devices plugged in, the amount of information exposed here is fairly symmetric with the fingerprinting concern exposed by other APIs such as the Gamepad API.  The vast majority of systems have relatively few MIDI interfaces attached.--></p></li>
        <li>
          使用可能なポートの識別によるフィンガープリンティングに関する事項とは別に、MIDIメッセージの送受信に関する事項があります。
          これらの課題について、以下でより深く掘り下げます。
          <!--Separate from the fingerprinting concerns of identifying the available ports are concerns around sending and receiving MIDI messages.  Those issues are explored in more depth below.--></li>
      </ol>
      <p>
        MIDIポートに対してできる事を簡単に分類すると：
        <!--In brief, the general categories of things you can do with MIDI ports are:-->
        </p><ol>
          <li>ショート・メッセージ(SysExを除く全てのメッセージ)の送信
            <!--Sending short messages (all messages except SysEx)-->
          </li><li>ショート・メッセージ(SysExを除く全てのメッセージ)の受信
            <!--Receiving short messages (all messages except SysEx)-->
          </li><li>
            SysExメッセージの送信。SysExメッセージは("Roland Jupiter-80シンセサイザーのパッチデータ"のような)他のデバイスには適用できないデバイス固有メッセージに加えて、MIDIタイムコードおよびMIDIサンプルダンプ・スタンダードのような共通で認識されるものの両方を含みます。
            <!--Sending SysEx messages.  SysEx messages include both commonly recognized MIDI Time Code and MIDI Sample Dump Standard, as well as device-specific messages (like “patch control data for a Roland Jupiter-80 synthesizer”) that do not apply to other devices.-->
          </li><li>SysExメッセージの受信
            <!--Receiving SysEx messages.-->
        </li></ol>
      <p>そのそれぞれが持つインパクトは：
        <!--The impact of each of these is:-->
        </p><ol>
          <li>
            ショート・メッセージの送信： ノートオン/ノートオフ/コントローラー・メッセージは接続された機器や(MacやWindowsが)デフォルトで持っている仮想シンセサイザーから、音の再生を行います。
            これ自体に情報開示の課題はありません。
            既に&lt;audio&gt;タグ、Flash、Web Audioを使えばインタラクション無しで音を出す事ができます。
            接続されているデバイスの中には業務用の照明コントロールシステムがあるかも知れません。その場合、それはステージの照明を制御できます。しかしながらこれは極めて稀であり、知られているどんなシステムにも、ショート・メッセージによって最終的にダメージを受けたり情報を流出するものはありません。
            最悪、悪意のあるページが照明を点滅させたりした場合、ユーザーはページを閉じて照明コントローラーをリセットできます。
            <!--Sending short messages: sending note-on/note-off/controller messages would let you cause sounds to be played by attached devices, including (on Mac and Windows) any default virtual synthesizers. This by itself does not cause any concerning exposure - you can already make sounds without interaction, through &lt;audio&gt;, Flash, or Web Audio.  Some attached devices might be professional lighting control systems, so it’s possible you could control stage lighting; however, this is extremely rare, and no known system has the ability to cause lasting damage or information leakage based solely on short messages; at worst, a malicious page could flash lights, and the user could close the page and reset their lighting controller.-->
          </li><li>
            ショート・メッセージの受信： ノートオン/ノートオフ/コントローラー・メッセージの受信はどんな情報の開示やセキュリティの問題も引き起こしません。
            識別に使用できるデータはなく、単にコントローラーのメッセージのストリームであり、
            (クロック型のメッセージを除いて)これらの全てはMIDIデバイスでのユーザーの操作によるものです。
            これはキーボードやマウスのイベントに非常に似ています。
            <!--Receiving short messages: receiving note-on/note-off/controller messages would not cause any information exposure or security issues, as there is no identifying data being received, just a stream of controller messages - all of which must be initiated by the user on that MIDI device (except clock-type messages).  This is very analogous to receiving keyboard or mouse events.-->
          </li><li>
            SysExの送受信。 これは最大の課題です。
            なぜならそれは、SysExメッセージに対するシステム固有の反応を探して使用可能なハードウェアを識別したり、
            それを使ってデータ、例えばサンプラーに保存されているサンプルをダウンロードする事ができ、あるいはそのデータを入れ替える(サンプルやデバイスのパッチを消去する)事も可能です(とは言え、これらのシナリオは特定の機器に対するコードを書く必要があります)。
            また、幾つかのサンプラーはシステムエクスルーシブ・メッセージでサンプルの録音の開始が可能です。
            そのためもしサンプラーに専用のマイクが接続されている場合(実際には一般的ではありませんが可能ではあります)、それは特定のデバイスが短時間の音を録音して、ユーザーの介在なしにネットワークにアップロードする事が可能かも知れません
            (デバイスからのオーディオストリームを流す事はできず、ほとんどのサンプラーのメモリー量には限界があります。またMIDIサンプルダンプSysExによるデータ転送は(7ビットへの変換が必要な)低速なものです。
            そのため、長時間に渡って盗聴されるような事は起こらないでしょう)。
            明らかにフィンガープリンティングの方が問題であり、パッチ情報/保存されているサンプル/ユーザー設定により、システムを一意に識別する事が可能です(繰り返しますが、"全てのパッチを取得してハッシュする"標準化された方法はありませんので、これには多くのデバイス固有のコードが必要です)。
            この事は、システムエクスルーシブ・メッセージがセキュリティ・カテゴリに分類されるべきものである事を示唆しています。
            <!--Sending and Receiving SysEx.  This is the biggest concern, because it would be possible to write code that looked for system-specific responses to sysex messages, which could identify the hardware available, and then use it to download data - e.g. samples stored in a sampler - or replace that data (erasing sample data or patches in the device), although both these scenarios would have to be coded for a particular device.  It is also possible that some samplers might enable a system exclusive message to start recording a sample - so if the sampler happened to have a dedicated microphone attached (uncommon in practice, but possible), it would be possible to write code specific to a particular device that could record a short sample of sound and then upload it to the network without further user intervention.  (You could not stream audio from the device, and most samplers have fairly limited memory, and MIDI Sample Dump sysex is a slow way to transfer data - it has to transcode into 7-bit - so it’s unlikely you could listen in for long periods.)  More explicit fingerprinting is a concern, as the patch information/stored samples/user configuration could uniquely identify the system (although again, this requires much device-specific code; there is not standardized “grab all patches and hash it” capability.)  This does suggest that system exclusive messages are in a security category of their own.-->
        </li></ol>
      <p>
        これらの機能に対して、MIDIによってどんなシナリオが可能になるのかを確認する事も有用です：
        <!--It's also useful to examine what scenarios are enabled by MIDI, mapped against these features:-->
        </p><ol>
          <li>
            ショート・メッセージの受信。これはWeb MIDIに取って最も魅力的なもので、キーボード、ドラムパッド、ギター、管楽器コントローラー、DJコントローラー、その他色々な機器からの入力によって楽器をコントロールでき、他のコントロールシナリオと同様にWeb Audio APIで使う事もできます (MIDIは何十億ドルもの規模の音楽制作産業で使われているプロトコルであり、Garagebandのようなコンシューマー・アプリケーションだけでなく、プロ/プロシューマー向けのオーディオ/メディアアプリケーションで使われる、コンピュータに接続するためのツマミやボタンを持った物理的なコントローラーが多数存在します)
            <!--Receiving short messages.  This is the most attractive scenario for Web MIDI, as it enables getting input from keyboards, drum pads, guitars, wind controllers, DJ/controllerist controllers, and more, and use those messages as input to control instruments and features in the Web Audio API as well as other control scenarios (MIDI is the protocol of choice for the multi-billion-dollar music production industry for getting physical controllers like knobs and buttons attached to your computer, both in pro/prosumer audio and media applications as well as consumer applications like Garageband.)-->
          </li><li>
            ショート・メッセージの送信。送信に関しては、魅力として言えば、かなり少なくなります。出力デバイスにハードウェアシンセサイザーのようなものを接続すると言うシナリオは現在のマーケットではそれほど一般的ではありません。ただ大きな例外として、多くのMIDIコントローラーが、インジケータライトの外部ホストコントロールを持っている事でこれが劇的に有用なものに変わります。例えば、非常に一般的なNovationのLaunchpadコントローラーはMIDIノートオン/オフメッセージの送信によってボタンの点灯/消灯や色の変化を行う事ができます。ほとんど全てのDJコントローラーも同様です。
            <!--Sending short messages - it’s tempting to say sending is significantly less interesting, as the scenario of attached output devices like hardware synthesizers is less common in today's market.  The major exception to this is that many of the MIDI controllers have external host control of their indicator lights, and this makes them dramatically more useful.  For example, the very popular Novation Launchpad controller uses MIDI note on/off messages sent to it to turn on/off and change colors of the buttons.  The same is true of nearly all DJ controllers.  -->
          </li><li>
            SysExの送受信。 明らかにハイエンド・ハードウェア機器での高度な通信では、SysExが必要になります。
            残念ながら、幾つかの共通MIDIコマンド(例えば、一般的なスタート/ストップ/巻き戻し/早送りコマンドであるMIDIマシンコントロールなど)もシステムエクスルーシブ・メッセージとして送られます。
            そして多くのデバイスではプログラムパッチ、高度なコントローラー・メッセージ、ファームウェア・ダウンロードなどにシステムエクスルーシブを使用しており、それはWeb MIDIのシナリオとしても強く要求される事です。
            デバイスによってはSysExを直接制御プロトコルとして使用します。それは多くのデータを1つの"メッセージ"にパックできるため、多くのデバイスはSysExをパッチや設定データの保存/読み込みのための安価なコンピュータ・ストレージとして使用します。
            ハードウェアに対してWeb MIDIを使って、Webベースの設定やプログラミング・インターフェースを提供する事に強い興味を持っているメジャーな音楽ハードウェア生産者もいます。
            簡単に言えば、SysExを使えなくすると、ハイエンドのシナリオが使えなくなるだけではないという事です。
            <!--Sending and receiving SysEx - obviously, for more advanced communication with high-end hardware devices, SysEx is required.  Unfortunately, some common MIDI commands are also sent as system exclusive messages (MIDI Machine Control, for example - generic start/stop/rew/ffw commands) - and many devices use system exclusive to program patches, send advanced controller messages, download firmware, etc., which are much-demanded scenarios for Web MIDI.  Some devices use sysex as a direct control protocol, as they can pack more data into a single “message”, and most devices use SysEx as way to save and restore patches and configuration information on less-expensive computer storage.  Several of the major music hardware producers have expressed strong interest in using Web MIDI to provide web-based configuration and programming interfaces to their hardware.  In short, disabling sysex altogether does not only disable high-end scenarios.-->
        </li></ol>
      <p>
        簡単に言えば： MIDIデバイスの列挙で晒される事になる、付加的なフィンガープリンティングは、そのままゲームパッドAPIによるゲームパッドの列挙による付加的なフィンガープリンティングに類似しています。典型的なユーザーではせいぜい数個のデバイスが接続され、それらが設定されても、晒される情報はそのインターフェース自体のものです(即ちユーザーが設定したデータではありません)。
        <!--In short: the additional fingerprinting exposure of enumerating MIDI devices is directly analogous to the Gamepad API’s additional fingerprinting exposure through gamepad enumeration; typical users will only have at most a few devices connected, their configuration may change, and the information exposed is about the interface itself (i.e., no user-configured data).  -->
      </p><p>
        ショート・メッセージの受信に関するセキュリティ上の懸案も小さいものです。それはキーボード、マウス、モバイル/ラップトップの加速度センサー、タッチ入力、ゲームパッドイベントのリストアップに類似しています。付加的に晒される情報はなく、クロック信号以外の全てのメッセージはユーザーの操作で発生します。
        <!--The additional security concern for receiving short messages is also small - it’s analogous to listening to keyboard, mouse, mobile/laptop accelerometer, touch input or gamepad events; there is no additional information exposed, and all messages other than clock signals must be initiated by the user.  -->
      </p><p>
        ショート・メッセージの送信に関する懸案は全てのオーディオ出力に類似しています。ユーザーの情報を上書きしたりユーザーの情報を読み取る事はできず、ただ、音を出し、パッチを変更し、(稀な設定では)照明を点灯/消灯します。しかしこれは破壊的ではなく、永続するものではありません。
        <!--The additional concerns about sending short messages are analogous to any audio output - you cannot overwrite user information or expose use information, but you can make sounds happen, change patches, or (in rare configurations) toggle lights - but non-destructively, and not persistently. -->
      </p><p>
        その一方、システムエクスルーシブは潜在的に制限の少ないものであるため、APIの中でより注意深く、ユーザーのセキュリティの留め金として、区別してSysExの要求をする事は良い考えです。<a href="#requestMIDIAccess">提案されているセキュリティモデル</a>ではユーザーエージェントがMIDIデバイスへのアクセスの前に明示的にユーザーの許可を求める事を許してはいますが、今の所、この許可を得るためにプロンプトを出す事は必須ではありません。しかしその一方、システムエクスルーシブのサポートに関してはリクエストの中でそれを要求しなくてはならない事を詳細に定めています。
        <!--System Exclusive, on the other hand, has a much less bounded potential, and it seems that distinguishing requests for SysEx separately in the API is a good idea, in order to more carefully provide user security hooks. The <a href="#requestMIDIAccess">suggested security model</a> explicitly allows user agents to require the user's approval before giving access to MIDI devices, although it is not currently required to prompt the user for this approval - but it also detailed that system exclusive support must be requested as part of that request.-->
      </p>
    </section>

  

<section id="references" class="appendix" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter"><!--OddPage--><h2 aria-level="1" role="heading" id="h2_references"><span class="secno">A. </span>リファレンス <button onclick="OpenOriginal('references')">原文</button></h2><section id="normative-references" typeof="bibo:Chapter" resource="#ref" rel="bibo:Chapter"><h3 aria-level="2" role="heading" id="h3_normative-references"><span class="secno">A.1 </span>基準リファレンス <button onclick="OpenOriginal('normative-references')">原文</button></h3><dl class="bibliography" about=""><dt id="bib-DOM-LEVEL-3-CORE">[DOM-LEVEL-3-CORE]</dt><dd rel="dcterms:requires">Arnaud Le Hors; Philippe Le Hégaret; Lauren Wood; Gavin Nicol; Jonathan Robie; Mike Champion; Steven B Byrne et al. <a href="http://www.w3.org/TR/DOM-Level-3-Core/"><cite>Document Object Model (DOM) Level 3 Core Specification</cite></a>. 7 April 2004. W3C Recommendation. URL: <a href="http://www.w3.org/TR/DOM-Level-3-Core/">http://www.w3.org/TR/DOM-Level-3-Core/</a>
</dd><dt id="bib-DOM4">[DOM4]</dt><dd rel="dcterms:requires">Anne van Kesteren; Aryeh Gregor; Lachlan Hunt; Ms2ger. <a href="http://www.w3.org/TR/dom/"><cite>DOM4</cite></a>. 6 December 2012. W3C Working Draft. URL: <a href="http://www.w3.org/TR/dom/">http://www.w3.org/TR/dom/</a>
</dd><dt id="bib-HIGHRES-TIME">[HIGHRES-TIME]</dt><dd rel="dcterms:requires">Jatinder Mann. <a href="http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/HighResolutionTime/Overview.html"><cite>High Resolution Time Specification</cite></a>. 18 October 2012. W3C Editor's Draft. URL: <a href="http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/HighResolutionTime/Overview.html">http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/HighResolutionTime/Overview.html</a>
</dd><dt id="bib-HTML5">[HTML5]</dt><dd rel="dcterms:requires">Robin Berjon; Steve Faulkner; Travis Leithead; Erika Doyle Navara; Edward O'Connor; Silvia Pfeiffer. <a href="http://www.w3.org/TR/html5/"><cite>HTML5</cite></a>. 6 August 2013. W3C Candidate Recommendation. URL: <a href="http://www.w3.org/TR/html5/">http://www.w3.org/TR/html5/</a>
</dd><dt id="bib-MIDI">[MIDI]</dt><dd rel="dcterms:requires"><a href="http://www.midi.org/techspecs/index.php"><cite>Musical Instrument Digital Interface (MIDI)</cite></a> November 2001. MIDI Manufacturers Association. Complete MIDI 1.0 Detailed Specification ISBN 0-9728831-0-X URL: <a href="http://www.midi.org/techspecs/index.php">http://www.midi.org/techspecs/index.php</a>
</dd><dt id="bib-RFC2119">[RFC2119]</dt><dd rel="dcterms:requires">S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key words for use in RFCs to Indicate Requirement Levels.</cite></a> March 1997. Internet RFC 2119.  URL: <a href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a> 
</dd><dt id="bib-TYPED-ARRAYS">[TYPED-ARRAYS]</dt><dd rel="dcterms:requires">David Herman; Kenneth Russell. <a href="https://www.khronos.org/registry/typedarray/specs/latest/"><cite>Typed Array Specification</cite></a>. 26 June 2013. Khronos Working Draft. URL: <a href="https://www.khronos.org/registry/typedarray/specs/latest/">https://www.khronos.org/registry/typedarray/specs/latest/</a>
</dd><dt id="bib-WEBIDL">[WEBIDL]</dt><dd rel="dcterms:requires">Cameron McCormack. <a href="http://www.w3.org/TR/WebIDL/"><cite>Web IDL</cite></a>. 19 April 2012. W3C Candidate Recommendation. URL: <a href="http://www.w3.org/TR/WebIDL/">http://www.w3.org/TR/WebIDL/</a>
</dd><dt id="bib-webaudio">[webaudio]</dt><dd rel="dcterms:requires">Paul Adenot; Chris Wilson; Chris Rogers. <a href="http://www.w3.org/TR/webaudio/"><cite>Web Audio API</cite></a>. 10 October 2013. W3C Working Draft. URL: <a href="http://www.w3.org/TR/webaudio/">http://www.w3.org/TR/webaudio/</a>
</dd></dl></section></section>
</body>
</html>